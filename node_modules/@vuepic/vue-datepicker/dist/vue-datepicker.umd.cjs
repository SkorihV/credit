(function(e,u){typeof exports=="object"&&typeof module<"u"?module.exports=u(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],u):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=u(e.Vue,e.dateFns))})(this,function(e,u){"use strict";function ze(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}ze.compatConfig={MODE:3};function jt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}jt.compatConfig={MODE:3};function ot(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}ot.compatConfig={MODE:3};function lt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}lt.compatConfig={MODE:3};function st(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}st.compatConfig={MODE:3};function it(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}it.compatConfig={MODE:3};function ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ct.compatConfig={MODE:3};function ut(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gt={exports:{}};(function(t){function r(a){return a&&a.__esModule?a:{default:a}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Gt);var vn=Gt.exports,dt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var s=Number(n);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=r.default})(dt,dt.exports);var Tn=dt.exports;const An=ut(Tn);var ft={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var s=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return s.setUTCFullYear(n.getFullYear()),n.getTime()-s.getTime()}t.exports=r.default})(ft,ft.exports);var Nn=ft.exports;const qt=ut(Nn);function Pn(t,r){var a=Vn(r);return a.formatToParts?En(a,t):Rn(a,t)}var _n={year:0,month:1,day:2,hour:3,minute:4,second:5};function En(t,r){try{for(var a=t.formatToParts(r),n=[],s=0;s<a.length;s++){var l=_n[a[s].type];l>=0&&(n[l]=parseInt(a[s].value,10))}return n}catch(f){if(f instanceof RangeError)return[NaN];throw f}}function Rn(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var mt={};function Vn(t){if(!mt[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";mt[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return mt[t]}function pt(t,r,a,n,s,l,f){var w=new Date(0);return w.setUTCFullYear(t,r,a),w.setUTCHours(n,s,l,f),w}var Zt=36e5,On=6e4,gt={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function ht(t,r,a){var n,s;if(!t||(n=gt.timezoneZ.exec(t),n))return 0;var l;if(n=gt.timezoneHH.exec(t),n)return l=parseInt(n[1],10),Jt(l)?-(l*Zt):NaN;if(n=gt.timezoneHHMM.exec(t),n){l=parseInt(n[1],10);var f=parseInt(n[2],10);return Jt(l,f)?(s=Math.abs(l)*Zt+f*On,l>0?-s:s):NaN}if(zn(t)){r=new Date(r||Date.now());var w=a?r:Yn(r),y=yt(w,t),C=a?y:In(r,y,t);return-C}return NaN}function Yn(t){return pt(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function yt(t,r){var a=Pn(t,r),n=pt(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),s=t.getTime(),l=s%1e3;return s-=l>=0?l:1e3+l,n-s}function In(t,r,a){var n=t.getTime(),s=n-r,l=yt(new Date(s),a);if(r===l)return r;s-=l-r;var f=yt(new Date(s),a);return l===f?l:Math.max(l,f)}function Jt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var Xt={};function zn(t){if(Xt[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Xt[t]=!0,!0}catch{return!1}}var Qt=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,kt=36e5,Ft=6e4,Ln=2,he={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Qt};function wt(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?Ln:An(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=Hn(t),l=Kn(s.date,n),f=l.year,w=l.restDateString,y=Un(w,f);if(isNaN(y))return new Date(NaN);if(y){var C=y.getTime(),b=0,$;if(s.time&&(b=Wn(s.time),isNaN(b)))return new Date(NaN);if(s.timeZone||a.timeZone){if($=ht(s.timeZone||a.timeZone,new Date(C+b)),isNaN($))return new Date(NaN)}else $=qt(new Date(C+b)),$=qt(new Date(C+b+$));return new Date(C+b+$)}else return new Date(NaN)}function Hn(t){var r={},a=he.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=he.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var s=he.timeZone.exec(n);s?(r.time=n.replace(s[1],""),r.timeZone=s[1].trim()):r.time=n}return r}function Kn(t,r){var a=he.YYY[r],n=he.YYYYY[r],s;if(s=he.YYYY.exec(t)||n.exec(t),s){var l=s[1];return{year:parseInt(l,10),restDateString:t.slice(l.length)}}if(s=he.YY.exec(t)||a.exec(t),s){var f=s[1];return{year:parseInt(f,10)*100,restDateString:t.slice(f.length)}}return{year:null}}function Un(t,r){if(r===null)return null;var a,n,s,l;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=he.MM.exec(t),a)return n=new Date(0),s=parseInt(a[1],10)-1,nn(r,s)?(n.setUTCFullYear(r,s),n):new Date(NaN);if(a=he.DDD.exec(t),a){n=new Date(0);var f=parseInt(a[1],10);return Gn(r,f)?(n.setUTCFullYear(r,0,f),n):new Date(NaN)}if(a=he.MMDD.exec(t),a){n=new Date(0),s=parseInt(a[1],10)-1;var w=parseInt(a[2],10);return nn(r,s,w)?(n.setUTCFullYear(r,s,w),n):new Date(NaN)}if(a=he.Www.exec(t),a)return l=parseInt(a[1],10)-1,rn(r,l)?en(r,l):new Date(NaN);if(a=he.WwwD.exec(t),a){l=parseInt(a[1],10)-1;var y=parseInt(a[2],10)-1;return rn(r,l,y)?en(r,l,y):new Date(NaN)}return null}function Wn(t){var r,a,n;if(r=he.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),bt(a)?a%24*kt:NaN;if(r=he.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),bt(a,n)?a%24*kt+n*Ft:NaN;if(r=he.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var s=parseFloat(r[3].replace(",","."));return bt(a,n,s)?a%24*kt+n*Ft+s*1e3:NaN}return null}function en(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var s=n.getUTCDay()||7,l=r*7+a+1-s;return n.setUTCDate(n.getUTCDate()+l),n}var xn=[31,28,31,30,31,30,31,31,30,31,30,31],jn=[31,29,31,30,31,30,31,31,30,31,30,31];function tn(t){return t%400===0||t%4===0&&t%100!==0}function nn(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=tn(t);if(n&&a>jn[r]||!n&&a>xn[r])return!1}return!0}function Gn(t,r){if(r<1)return!1;var a=tn(t);return!(a&&r>366||!a&&r>365)}function rn(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function bt(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Mt={exports:{}},Dt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,s){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l]);return n}t.exports=r.default})(Dt,Dt.exports);var qn=Dt.exports;(function(t,r){var a=vn.default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var n=a(qn);function s(l){return(0,n.default)({},l)}t.exports=r.default})(Mt,Mt.exports);var Zn=Mt.exports;const Jn=ut(Zn);function Xn(t,r,a){var n=wt(t,a),s=ht(r,n,!0),l=new Date(n.getTime()-s),f=new Date(0);return f.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),f.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),f}function Qn(t,r,a){if(typeof t=="string"&&!t.match(Qt)){var n=Jn(a);return n.timeZone=r,wt(t,n)}var s=wt(t,a),l=pt(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()).getTime(),f=ht(r,new Date(l));return new Date(l+f)}function an(t){return r=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${r}T00:00:00+00:00`)).slice(0,2)}function Fn(t){return r=>u.format(new Date(`2017-01-0${r}T00:00:00+00:00`),"EEEEEE",{locale:t})}const er=(t,r,a)=>{const n=[1,2,3,4,5,6,7];let s;if(t!==null)try{s=n.map(Fn(t))}catch{s=n.map(an(r))}else s=n.map(an(r));const l=s.slice(0,a),f=s.slice(a+1,s.length);return[s[a]].concat(...f).concat(...l)},Ct=(t,r)=>{const a=[];for(let n=+t[0];n<=+t[1];n++)a.push({value:+n,text:`${n}`});return r?a.reverse():a},on=(t,r,a)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(l=>{const f=l<10?`0${l}`:l;return new Date(`2017-${f}-01T00:00:00+00:00`)});if(t!==null)try{const l=a==="long"?"MMMM":"MMM";return n.map((f,w)=>{const y=u.format(f,l,{locale:t});return{text:y.charAt(0).toUpperCase()+y.substring(1),value:w}})}catch{}const s=new Intl.DateTimeFormat(r,{month:a,timeZone:"UTC"});return n.map((l,f)=>{const w=s.format(l);return{text:w.charAt(0).toUpperCase()+w.substring(1),value:f}})},tr=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ue=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},nr=t=>Object.assign({type:"dot"},t),ln=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Ze={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ie=t=>t,sn=t=>t===0?t:!t||isNaN(+t)?null:+t,cn=t=>t===null,rr=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},ar=t=>{const r=[],a=n=>n.filter(s=>s);for(let n=0;n<t.length;n+=3){const s=[t[n],t[n+1],t[n+2]];r.push(a(s))}return r},Le=(t,r,a)=>{const n=a??a===0,s=r??r===0;if(!n&&!s)return!1;const l=+a,f=+r;return n&&s?+t>l||+t<f:n?+t>l:s?+t<f:!1},Ve=(t,r)=>ar(t).map(a=>a.map(n=>{const{active:s,disabled:l,isBetween:f}=r(n);return{...n,active:s,disabled:l,className:{dp__overlay_cell_active:s,dp__overlay_cell:!s,dp__overlay_cell_disabled:l,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:l&&s,dp__cell_in_between:f}}})),un=(t,r,a,n,s)=>{const l=u.parse(t,r.slice(0,t.length),new Date);return u.isValid(l)&&u.isDate(l)?n||s?l:u.set(l,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},or=(t,r,a,n,s)=>{const l=Array.isArray(a)?a[0]:a;if(typeof r=="string")return un(t,r,l,n,s);if(Array.isArray(r)){let f=null;for(const w of r)if(f=un(t,w,l,n,s),f)break;return f}return typeof r=="function"?r(t):null},T=t=>t?new Date(t):new Date,lr=(t,r,a)=>{if(r){const s=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),w=t.getMinutes().toString().padStart(2,"0"),y=a?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${s}-${l}T${f}:${w}:${y}.000Z`}const n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n).toISOString()},ke=t=>{let r=T(JSON.parse(JSON.stringify(t)));return r=u.setHours(r,0),r=u.setMinutes(r,0),r=u.setSeconds(r,0),r=u.setMilliseconds(r,0),r},Be=(t,r,a,n)=>{let s=t?T(t):T();return(r||r===0)&&(s=u.setHours(s,+r)),(a||a===0)&&(s=u.setMinutes(s,+a)),(n||n===0)&&(s=u.setSeconds(s,+n)),u.setMilliseconds(s,0)},fe=(t,r)=>!t||!r?!1:u.isBefore(ke(t),ke(r)),ae=(t,r)=>!t||!r?!1:u.isEqual(ke(t),ke(r)),ge=(t,r)=>!t||!r?!1:u.isAfter(ke(t),ke(r)),St=(t,r,a)=>t&&t[0]&&t[1]?ge(a,t[0])&&fe(a,t[1]):t&&t[0]&&r?ge(a,t[0])&&fe(a,r)||fe(a,t[0])&&ge(a,r):!1,be=t=>{const r=u.set(new Date(t),{date:1});return ke(r)},$t=(t,r,a)=>r&&(a||a===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===r?[n,a]:[n,isNaN(+t[n])?void 0:+t[n]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Ne=t=>({hours:u.getHours(t),minutes:u.getMinutes(t),seconds:u.getSeconds(t)}),dn=(t,r)=>{if(r){const a=u.getYear(T(r));if(a>t)return 12;if(a===t)return u.getMonth(T(r))}},fn=(t,r)=>{if(r){const a=u.getYear(T(r));return a<t?-1:a===t?u.getMonth(T(r)):void 0}},Oe=t=>{if(t)return u.getYear(T(t))},Ce=(t,r)=>r?Xn(t,r):t,sr=(t,r)=>r?Qn(t,r):t,mn=t=>t instanceof Date?t:u.parseISO(t),pn=(t,r)=>{const a=ge(t,r)?r:t,n=ge(r,t)?r:t;return u.eachDayOfInterval({start:a,end:n})},ir=t=>{const r=u.addMonths(t,1);return{month:u.getMonth(r),year:u.getYear(r)}},Je=(t,r,a)=>{const n=u.startOfWeek(Ce(t,r),{weekStartsOn:+a}),s=u.endOfWeek(Ce(t,r),{weekStartsOn:+a});return[n,s]},gn=(t,r)=>{const a={hours:u.getHours(T()),minutes:u.getMinutes(T()),seconds:r?u.getSeconds(T()):0};return Object.assign(a,t)},ve=(t,r,a)=>[u.set(T(t),{date:1}),u.set(T(),{month:r,year:a,date:1})],Se=(t,r,a)=>{let n=t?T(t):T();return(r||r===0)&&(n=u.setMonth(n,r)),a&&(n=u.setYear(n,a)),n},hn=(t,r,a,n,s)=>{if(!n||s&&!r||!s&&!a)return!1;const l=s?u.addMonths(t,1):u.subMonths(t,1),f=[u.getMonth(l),u.getYear(l)];return s?!ur(...f,r):!cr(...f,a)},cr=(t,r,a)=>fe(...ve(a,t,r))||ae(...ve(a,t,r)),ur=(t,r,a)=>ge(...ve(a,t,r))||ae(...ve(a,t,r)),yn=(t,r,a,n,s,l)=>{if(typeof r=="function")return r(t);const f=a?{locale:a}:void 0;return Array.isArray(t)?`${u.format(t[0],l,f)}${s&&!t[1]?"":n}${t[1]?u.format(t[1],l,f):""}`:u.format(t,l,f)},Ye=t=>{if(t)return null;throw new Error(Ze.prop("partial-range"))},Xe=(t,r)=>{if(r)return t();throw new Error(Ze.prop("range"))},Bt=t=>Array.isArray(t)?u.isValid(t[0])&&(t[1]?u.isValid(t[1]):!0):t?u.isValid(t):!1,dr=t=>u.set(T(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),vt=(t,r,a,n)=>{if(!t)return!0;if(n){const s=a==="max"?u.isBefore(t,r):u.isAfter(t,r),l={seconds:0,milliseconds:0};return s||u.isEqual(u.set(t,l),u.set(r,l))}return a==="max"?t.getTime()<=r.getTime():t.getTime()>=r.getTime()},kn=(t,r,a,n,s)=>{const l=t?dr(t):T(r);return Array.isArray(n)?vt(n[0],l,a,!!r)&&vt(n[1],l,a,!!r)&&s:vt(n,l,a,!!r)&&s},Tt=t=>u.set(T(),Ne(t)),fr=(t,r)=>Array.isArray(t)?t.map(a=>T(a)).filter(a=>u.getYear(T(a))===r).map(a=>u.getMonth(a)):[],He=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),wn=()=>{const t=n=>{He.menuFocused=n},r=n=>{He.shiftKeyInMenu!==n&&(He.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:He.shiftKeyInMenu,menuFocused:He.menuFocused})),setMenuFocused:t,setShiftKey:r}},oe=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),At=e.ref(null),Qe=e.ref(!1),Nt=e.ref(!1),Pt=e.ref(!1),_t=e.ref(!1),ye=e.ref(0),me=e.ref(0),Te=()=>{const t=e.computed(()=>Qe.value?[...oe.selectionGrid,oe.actionRow].filter(S=>S.length):Nt.value?[...oe.timePicker[0],...oe.timePicker[1],_t.value?[]:[At.value],oe.actionRow].filter(S=>S.length):Pt.value?[...oe.monthPicker,oe.actionRow]:[oe.monthYear,...oe.calendar,oe.time,oe.actionRow].filter(S=>S.length)),r=S=>{ye.value=S?ye.value+1:ye.value-1;let L=null;t.value[me.value]&&(L=t.value[me.value][ye.value]),L||(ye.value=S?ye.value-1:ye.value+1)},a=S=>{if(me.value===0&&!S||me.value===t.value.length&&S)return;me.value=S?me.value+1:me.value-1,t.value[me.value]?t.value[me.value]&&!t.value[me.value][ye.value]&&ye.value!==0&&(ye.value=t.value[me.value].length-1):me.value=S?me.value-1:me.value+1},n=S=>{let L=null;t.value[me.value]&&(L=t.value[me.value][ye.value]),L?L.focus({preventScroll:!Qe.value}):ye.value=S?ye.value-1:ye.value+1},s=()=>{r(!0),n(!0)},l=()=>{r(!1),n(!1)},f=()=>{a(!1),n(!0)},w=()=>{a(!0),n(!0)},y=(S,L)=>{oe[L]=S},C=(S,L)=>{oe[L]=S},b=()=>{ye.value=0,me.value=0};return{buildMatrix:y,buildMultiLevelMatrix:C,setTimePickerBackRef:S=>{At.value=S},setSelectionGrid:S=>{Qe.value=S,b(),S||(oe.selectionGrid=[])},setTimePicker:(S,L=!1)=>{Nt.value=S,_t.value=L,b(),S||(oe.timePicker[0]=[],oe.timePicker[1]=[])},setTimePickerElements:(S,L=0)=>{oe.timePicker[L]=S},arrowRight:s,arrowLeft:l,arrowUp:f,arrowDown:w,clearArrowNav:()=>{oe.monthYear=[],oe.calendar=[],oe.time=[],oe.actionRow=[],oe.selectionGrid=[],oe.timePicker[0]=[],oe.timePicker[1]=[],Qe.value=!1,Nt.value=!1,_t.value=!1,Pt.value=!1,b(),At.value=null},setMonthPicker:S=>{Pt.value=S,b()},refSets:oe}},bn=t=>Object.assign({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},t),mr=t=>Object.assign({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>""},t),Mn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,pr=t=>{const r=typeof t=="object"&&t,a={static:!0,solo:!1};if(!t)return{...a,count:Mn(!1)};const n=r?t:{},s=r?n.count??!0:t,l=Mn(s);return Object.assign(a,n,{count:l})},gr=(t,r,a)=>t||(typeof a=="string"?a:r),hr=t=>typeof t=="boolean"?t?bn({}):!1:bn(t),yr=t=>{const r={enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "};return typeof t=="object"?{...r,...t??{},enabled:!0}:{...r,enabled:t}},kr=t=>Object.assign({months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},t),wr=t=>Object.assign({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0},t),br=t=>{const r={input:!1};return typeof t=="object"?Object.assign(r,t,{enabled:!0}):{enabled:t,...r}},pe=t=>{const r=()=>{const K=t.enableSeconds?":ss":"";return t.is24?`HH:mm${K}`:`hh:mm${K} aa`},a=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?r():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${r()}`:"MM/dd/yyyy",n=K=>gn(K,t.enableSeconds),s=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[n(t.startTime[0]),n(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?n(t.startTime):null,l=e.computed(()=>pr(t.multiCalendars)),f=e.computed(()=>s()),w=e.computed(()=>mr(t.ariaLabels)),y=e.computed(()=>kr(t.filters)),C=e.computed(()=>hr(t.transitions)),b=e.computed(()=>wr(t.actionRow)),$=e.computed(()=>gr(t.previewFormat,t.format,a())),E=e.computed(()=>yr(t.textInput)),x=e.computed(()=>br(t.inline));return{defaultedTransitions:C,defaultedMultiCalendars:l,defaultedStartTime:f,defaultedAriaLabels:w,defaultedFilters:y,defaultedActionRow:b,defaultedPreviewFormat:$,defaultedTextInput:E,defaultedInline:x,getDefaultPattern:a,getDefaultStartTime:s}},Mr=(t,r,a)=>{const n=e.ref(),{defaultedTextInput:s,getDefaultPattern:l}=pe(r),f=e.ref(""),w=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(w,()=>{z()});const y=o=>sr(o,r.timezone),C=o=>Ce(o,r.timezone),b=(o,I)=>yn(o,r.format,r.formatLocale,s.value.rangeSeparator,r.modelAuto,I??l()),$=o=>{const I=o??T();return r.modelType?D(I):{hours:u.getHours(I),minutes:u.getMinutes(I),seconds:r.enableSeconds?u.getSeconds(I):0}},E=o=>r.modelType?D(o):{month:u.getMonth(o),year:u.getYear(o)},x=o=>Array.isArray(o)?Xe(()=>[u.setYear(T(),o[0]),o[1]?u.setYear(T(),o[1]):Ye(r.partialRange)],r.range):u.setYear(T(),+o),K=(o,I)=>(typeof o=="string"||typeof o=="number")&&r.modelType?m(o):I,q=o=>Array.isArray(o)?[K(o[0],Be(null,+o[0].hours,+o[0].minutes,o[0].seconds)),K(o[1],Be(null,+o[1].hours,+o[1].minutes,o[1].seconds))]:K(o,Be(null,o.hours,o.minutes,o.seconds)),M=o=>Array.isArray(o)?r.multiDates?o.map(I=>K(I,Se(null,+I.month,+I.year))):Xe(()=>[K(o[0],Se(null,+o[0].month,+o[0].year)),K(o[1],o[1]?Se(null,+o[1].month,+o[1].year):Ye(r.partialRange))],r.range):K(o,Se(null,+o.month,+o.year)),S=o=>{if(Array.isArray(o))return o.map(I=>m(I));throw new Error(Ze.dateArr("multi-dates"))},L=o=>{if(Array.isArray(o))return[T(o[0]),T(o[1])];throw new Error(Ze.dateArr("week-picker"))},O=o=>r.modelAuto?Array.isArray(o)?[m(o[0]),m(o[1])]:r.autoApply?[m(o)]:[m(o),null]:Array.isArray(o)?Xe(()=>[m(o[0]),o[1]?m(o[1]):Ye(r.partialRange)],r.range):m(o),U=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(Ye(r.partialRange))},A=()=>{const o=n.value;return[D(o[0]),o[1]?D(o[1]):Ye(r.partialRange)]},J=()=>n.value[1]?A():D(ie(n.value[0])),k=()=>(n.value||[]).map(o=>D(o)),v=()=>(U(),r.modelAuto?J():r.multiDates?k():Array.isArray(n.value)?Xe(()=>A(),r.range):D(ie(n.value))),B=o=>!o||Array.isArray(o)&&!o.length?null:r.timePicker?q(ie(o)):r.monthPicker?M(ie(o)):r.yearPicker?x(ie(o)):r.multiDates?S(ie(o)):r.weekPicker?L(ie(o)):O(ie(o)),Y=o=>{const I=B(o);Bt(ie(I))?(n.value=ie(I),z()):(n.value=null,f.value="")},H=()=>{const o=I=>u.format(I,s.value.format);return`${o(n.value[0])} ${s.value.rangeSeparator} ${n.value[1]?o(n.value[1]):""}`},Z=()=>a.value&&n.value?Array.isArray(n.value)?H():u.format(n.value,s.value.format):b(n.value),p=()=>n.value?r.multiDates?n.value.map(o=>b(o)).join("; "):s.value.enabled&&typeof s.value.format=="string"?Z():b(n.value):"",z=()=>{!r.format||typeof r.format=="string"||s.value.enabled&&typeof s.value.format=="string"?f.value=p():f.value=r.format(n.value)},m=o=>{if(r.utc){const I=new Date(o);return r.utc==="preserve"?new Date(I.getTime()+I.getTimezoneOffset()*6e4):I}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?C(new Date(o)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?u.parse(o,l(),new Date):C(u.parse(o,r.modelType,new Date)):C(new Date(o))},D=o=>o?r.utc?lr(o,r.utc==="preserve",r.enableSeconds):r.modelType?r.modelType==="timestamp"?+y(o):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?b(y(o)):b(y(o),r.modelType):y(o):"",c=(o,I=!1)=>{if(t("update:model-value",o),r.emitTimezone&&I){const P=Array.isArray(o)?o.map(g=>Ce(ie(g)),r.emitTimezone):Ce(ie(o),r.emitTimezone);t("update:model-timezone-value",P)}},h=o=>Array.isArray(n.value)?r.multiDates?n.value.map(I=>o(I)):[o(n.value[0]),n.value[1]?o(n.value[1]):Ye(r.partialRange)]:o(ie(n.value)),i=o=>c(ie(h(o)));return{inputValue:f,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:Y,formatInputValue:z,emitModelValue:()=>(z(),r.monthPicker?i(E):r.timePicker?i($):r.yearPicker?i(u.getYear):r.weekPicker?c(n.value,!0):c(v(),!0))}},Dr=(t,r)=>{const{defaultedFilters:a}=pe(t),{validateMonthYearInRange:n}=Ue(t),s=(C,b)=>{let $=C;return a.value.months.includes(u.getMonth($))?($=b?u.addMonths(C,1):u.subMonths(C,1),s($,b)):$},l=(C,b)=>{let $=C;return a.value.years.includes(u.getYear($))?($=b?u.addYears(C,1):u.subYears(C,1),l($,b)):$},f=C=>{const b=u.set(new Date,{month:t.month,year:t.year});let $=C?u.addMonths(b,1):u.subMonths(b,1);t.disableYearSelect&&($=u.setYear($,t.year));let E=u.getMonth($),x=u.getYear($);a.value.months.includes(E)&&($=s($,C),E=u.getMonth($),x=u.getYear($)),a.value.years.includes(x)&&($=l($,C),x=u.getYear($)),n(E,x,C,t.preventMinMaxNavigation)&&w(E,x)},w=(C,b)=>{r("update-month-year",{month:C,year:b})},y=e.computed(()=>C=>hn(u.set(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,C));return{handleMonthYearChange:f,isDisabled:y,updateMonthYear:w}};var Ie=(t=>(t.center="center",t.left="left",t.right="right",t))(Ie||{}),Me=(t=>(t.month="month",t.year="year",t))(Me||{}),Pe=(t=>(t.top="top",t.bottom="bottom",t))(Pe||{}),_e=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(_e||{});const Cr=(t,r,a,n,s,l,f)=>{const w=e.ref({}),y=e.ref(!1),C=e.ref({top:"0",left:"0"}),b=e.ref(!1),$=e.toRef(f,"teleportCenter");e.watch($,()=>{C.value=JSON.parse(JSON.stringify({})),O()});const E=m=>{if(f.teleport){const D=m.getBoundingClientRect();return{left:D.left+window.scrollX,top:D.top+window.scrollY}}return{top:0,left:0}},x=(m,D)=>{C.value.left=`${m+D-w.value.width}px`},K=m=>{C.value.left=`${m}px`},q=(m,D)=>{f.position===Ie.left&&K(m),f.position===Ie.right&&x(m,D),f.position===Ie.center&&(C.value.left=`${m+D/2-w.value.width/2}px`)},M=m=>{const{width:D,height:c}=m.getBoundingClientRect(),{top:h,left:i}=f.altPosition?f.altPosition(m):E(m);return{top:+h,left:+i,width:D,height:c}},S=()=>{C.value.left="50%",C.value.top="50%",C.value.transform="translate(-50%, -50%)",C.value.position="fixed",delete C.value.opacity},L=()=>{const m=ue(a),{top:D,left:c,transform:h}=f.altPosition(m);C.value={top:`${D}px`,left:`${c}px`,transform:h??""}},O=(m=!0)=>{var D;if(!s.value.enabled){if($.value)return S();if(f.altPosition!==null)return L();if(m){const c=f.teleport?(D=r.value)==null?void 0:D.$el:t.value;c&&(w.value=c.getBoundingClientRect()),l("recalculate-position")}return Y()}},U=({inputEl:m,left:D,width:c})=>{window.screen.width>768&&!y.value&&q(D,c),k(m)},A=m=>{const{top:D,left:c,height:h,width:i}=M(m);C.value.top=`${h+D+ +f.offset}px`,b.value=!1,y.value||(C.value.left=`${c+i/2-w.value.width/2}px`),U({inputEl:m,left:c,width:i})},J=m=>{const{top:D,left:c,width:h}=M(m);C.value.top=`${D-+f.offset-w.value.height}px`,b.value=!0,U({inputEl:m,left:c,width:h})},k=m=>{if(f.autoPosition){const{left:D,width:c}=M(m),{left:h,right:i}=w.value;if(!y.value){if(Math.abs(h)!==Math.abs(i)){if(h<=0)return y.value=!0,K(D);if(i>=document.documentElement.clientWidth)return y.value=!0,x(D,c)}return q(D,c)}}},v=()=>{const m=ue(a);if(m){const{height:D}=w.value,{top:c,height:h}=m.getBoundingClientRect(),N=window.innerHeight-c-h,X=c;return D<=N?Pe.bottom:D>N&&D<=X?Pe.top:N>=X?Pe.bottom:Pe.top}return Pe.bottom},B=m=>v()===Pe.bottom?A(m):J(m),Y=()=>{const m=ue(a);if(m)return f.autoPosition?B(m):A(m)},H=function(m){if(m){const D=m.scrollHeight>m.clientHeight,h=window.getComputedStyle(m).overflowY.indexOf("hidden")!==-1;return D&&!h}return!0},Z=function(m){return!m||m===document.body||m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:H(m)?m:Z(m.parentNode)},p=m=>{if(m)switch(f.position){case Ie.left:return{left:0,transform:"translateX(0)"};case Ie.right:return{left:`${m.width}px`,transform:"translateX(-100%)"};default:return{left:`${m.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:b,menuStyle:C,xCorrect:y,setMenuPosition:O,getScrollableParent:Z,shadowRender:(m,D)=>{var I,P,g;const c=document.createElement("div"),h=(I=ue(a))==null?void 0:I.getBoundingClientRect();c.setAttribute("id","dp--temp-container");const i=(P=n.value)!=null&&P.clientWidth?n.value:document.body;i.append(c);const N=document.getElementById("dp--temp-container"),X=p(h),o=e.h(m,{...D,shadow:!0,style:{opacity:0,position:"absolute",...X}});e.render(o,N),w.value=(g=o.el)==null?void 0:g.getBoundingClientRect(),e.render(null,N),i.removeChild(N)}}},Ee=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared"]},{name:"arrow-right",use:["month-year","calendar","shared"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]}],Sr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],$r={all:()=>Ee,monthYear:()=>Ee.filter(t=>t.use.includes("month-year")),input:()=>Sr,timePicker:()=>Ee.filter(t=>t.use.includes("time")),action:()=>Ee.filter(t=>t.use.includes("action")),calendar:()=>Ee.filter(t=>t.use.includes("calendar")),menu:()=>Ee.filter(t=>t.use.includes("menu")),shared:()=>Ee.filter(t=>t.use.includes("shared"))},De=(t,r,a)=>{const n=[];return $r[r]().forEach(s=>{t[s.name]&&n.push(s.name)}),a!=null&&a.length&&a.forEach(s=>{s.slot&&n.push(s.slot)}),n},Ke=t=>{const r=e.computed(()=>n=>t.value?n?t.value.open:t.value.close:""),a=e.computed(()=>n=>t.value?n?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:r,showTransition:!!t.value,menuTransition:a}},Fe=(t,r)=>{const a=e.ref([{month:u.getMonth(T()),year:u.getYear(T())}]),n=e.reactive({hours:t.range?[u.getHours(T()),u.getHours(T())]:u.getHours(T()),minutes:t.range?[u.getMinutes(T()),u.getMinutes(T())]:u.getMinutes(T()),seconds:t.range?[0,0]:0}),s=e.computed({get:()=>t.internalModelValue,set:w=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",w)}}),l=e.computed(()=>w=>a.value[w]?a.value[w].month:0),f=e.computed(()=>w=>a.value[w]?a.value[w].year:0);return{calendars:a,time:n,modelValue:s,month:l,year:f}},Br=(t,r)=>{const{defaultedMultiCalendars:a}=pe(r),{isDisabled:n,matchDate:s}=Ue(r),l=e.ref(null),f=e.ref(T()),w=i=>{!i.current&&r.hideOffsetDates||(l.value=i.value)},y=()=>{l.value=null},C=i=>Array.isArray(t.value)&&r.range&&t.value[0]&&l.value?i?ge(l.value,t.value[0]):fe(l.value,t.value[0]):!0,b=(i,N)=>{const X=()=>t.value?N?t.value[0]||null:t.value[1]:null,o=t.value&&Array.isArray(t.value)?X():null;return ae(T(i.value),o)},$=i=>{const N=Array.isArray(t.value)?t.value[0]:null;return i?!fe(l.value??null,N):!0},E=(i,N=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?r.hideOffsetDates&&!i.current?!1:ae(T(i.value),t.value[N?0:1]):r.range?b(i,N)&&$(N)||ae(i.value,Array.isArray(t.value)?t.value[0]:null)&&C(N):!1,x=(i,N,X)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?i?!1:X?ge(t.value[0],N.value):fe(t.value[0],N.value):!1,K=i=>!t.value||r.hideOffsetDates&&!i.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?ae(i.value,t.value[0]?t.value[0]:f.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(N=>ae(N,i.value)):ae(i.value,t.value?t.value:f.value),q=i=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!i.current)return!1;const N=u.addDays(l.value,+r.autoRange),X=Je(T(l.value),r.timezone,r.weekStart);return r.weekPicker?ae(X[1],T(i.value)):ae(N,T(i.value))}return!1}return!1},M=i=>{if(r.autoRange||r.weekPicker){if(l.value){const N=u.addDays(l.value,+r.autoRange);if(r.hideOffsetDates&&!i.current)return!1;const X=Je(T(l.value),r.timezone,r.weekStart);return r.weekPicker?ge(i.value,X[0])&&fe(i.value,X[1]):ge(i.value,l.value)&&fe(i.value,N)}return!1}return!1},S=i=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!i.current)return!1;const N=Je(T(l.value),r.timezone,r.weekStart);return r.weekPicker?ae(N[0],i.value):ae(l.value,i.value)}return!1}return!1},L=i=>St(t.value,l.value,i.value),O=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,U=()=>r.modelAuto?ln(r.internalModelValue):!0,A=i=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const N=r.range?!E(i)&&!E(i,!1):!0;return!n(i.value)&&!K(i)&&!(!i.current&&r.hideOffsetDates)&&N},J=i=>r.range?r.modelAuto?O()&&K(i):!1:K(i),k=i=>{var N;return r.highlight?s(i.value,(N=r.arrMapValues)!=null&&N.highlightedDates?r.arrMapValues.highlightedDates:r.highlight):!1},v=i=>n(i.value)&&r.highlightDisabledDays===!1,B=i=>r.highlightWeekDays&&r.highlightWeekDays.includes(i.value.getDay()),Y=i=>(r.range||r.weekPicker)&&(!(a.value.count>0)||i.current)&&U()&&!(!i.current&&r.hideOffsetDates)&&!K(i)?L(i):!1,H=i=>{const{isRangeStart:N,isRangeEnd:X}=z(i),o=r.range?N||X:!1;return{dp__cell_offset:!i.current,dp__pointer:!r.disabled&&!(!i.current&&r.hideOffsetDates)&&!n(i.value),dp__cell_disabled:n(i.value),dp__cell_highlight:!v(i)&&(k(i)||B(i))&&!J(i)&&!o,dp__cell_highlight_active:!v(i)&&(k(i)||B(i))&&J(i),dp__today:!r.noToday&&ae(i.value,f.value)&&i.current}},Z=i=>({dp__active_date:J(i),dp__date_hover:A(i)}),p=i=>({...m(i),...D(i),dp__range_between_week:Y(i)&&r.weekPicker}),z=i=>{const N=a.value.count>0?i.current&&E(i)&&U():E(i)&&U(),X=a.value.count>0?i.current&&E(i,!1)&&U():E(i,!1)&&U();return{isRangeStart:N,isRangeEnd:X}},m=i=>{const{isRangeStart:N,isRangeEnd:X}=z(i);return{dp__range_start:N,dp__range_end:X,dp__range_between:Y(i)&&!r.weekPicker,dp__date_hover_start:x(A(i),i,!0),dp__date_hover_end:x(A(i),i,!1)}},D=i=>({...m(i),dp__cell_auto_range:M(i),dp__cell_auto_range_start:S(i),dp__cell_auto_range_end:q(i)}),c=i=>r.range?r.autoRange?D(i):r.modelAuto?{...Z(i),...m(i)}:m(i):r.weekPicker?p(i):Z(i);return{setHoverDate:w,clearHoverDate:y,getDayClassData:i=>r.hideOffsetDates&&!i.current?{}:{...H(i),...c(i),[r.dayClass?r.dayClass(i.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName}}},Ue=t=>{const{defaultedFilters:r}=pe(t),a=k=>{const v=ke(n(T(k))).toISOString(),[B]=v.split("T");return B},n=k=>Ce(k,t.timezone),s=k=>{var c;const v=t.maxDate?ge(n(k),n(T(t.maxDate))):!1,B=t.minDate?fe(n(k),n(T(t.minDate))):!1,Y=y(k,(c=t.arrMapValues)!=null&&c.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),Z=r.value.months.map(h=>+h).includes(u.getMonth(k)),p=t.disabledWeekDays.length?t.disabledWeekDays.some(h=>+h===u.getDay(k)):!1,z=b(k),m=u.getYear(k),D=m<+t.yearRange[0]||m>+t.yearRange[1];return!(v||B||Y||Z||D||p||z)},l=(k,v)=>fe(...ve(t.minDate,k,v))||ae(...ve(t.minDate,k,v)),f=(k,v)=>ge(...ve(t.maxDate,k,v))||ae(...ve(t.maxDate,k,v)),w=(k,v,B)=>{let Y=!1;return t.maxDate&&B&&f(k,v)&&(Y=!0),t.minDate&&!B&&l(k,v)&&(Y=!0),Y},y=(k,v)=>k?v instanceof Map?!!v.get(a(k)):Array.isArray(v)?v.some(B=>ae(n(T(B)),n(k))):v?v(T(JSON.parse(JSON.stringify(k)))):!1:!0,C=(k,v,B,Y)=>{let H=!1;return Y?t.minDate&&t.maxDate?H=w(k,v,B):(t.minDate&&l(k,v)||t.maxDate&&f(k,v))&&(H=!0):H=!0,H},b=k=>{var v,B,Y,H,Z;return Array.isArray(t.allowedDates)&&!((v=t.allowedDates)!=null&&v.length)?!0:(B=t.arrMapValues)!=null&&B.allowedDates?!y(k,(Y=t.arrMapValues)==null?void 0:Y.allowedDates):(H=t.allowedDates)!=null&&H.length?!((Z=t.allowedDates)!=null&&Z.some(p=>ae(n(T(p)),n(k)))):!1},$=k=>!s(k),E=k=>!u.eachDayOfInterval({start:k[0],end:k[1]}).some(B=>$(B)),x=(k,v,B=0)=>{if(Array.isArray(v)&&v[B]){const Y=u.differenceInCalendarDays(k,v[B]),H=pn(v[B],k),Z=H.length===1?0:H.filter(z=>$(z)).length,p=Math.abs(Y)-Z;if(t.minRange&&t.maxRange)return p>=+t.minRange&&p<=+t.maxRange;if(t.minRange)return p>=+t.minRange;if(t.maxRange)return p<=+t.maxRange}return!0},K=k=>new Map(k.map(v=>[a(v),!0])),q=k=>Array.isArray(k)&&k.length>0,M=k=>{q(t.allowedDates)&&(k.allowedDates=K(t.allowedDates)),q(t.highlight)&&(k.highlightedDates=K(t.highlight)),q(t.disabledDates)&&(k.disabledDates=K(t.disabledDates))},S=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,L=k=>Array.isArray(k)?[k[0]?Tt(k[0]):null,k[1]?Tt(k[1]):null]:Tt(k),O=(k,v)=>!(Array.isArray(v)?v:[v]).some(H=>t.disabledTimes.find(Z=>+Z.hours===u.getHours(H)&&Z.minutes==="*"?!0:+Z.minutes===u.getMinutes(H)))&&k,U=(k,v)=>{const B=Array.isArray(v)?[Ne(v[0]),v[1]?Ne(v[1]):void 0]:Ne(v),Y=!t.disabledTimes(B);return k&&Y},A=(k,v)=>t.disabledTimes?Array.isArray(t.disabledTimes)?O(v,k):U(v,k):v;return{isDisabled:$,validateDate:s,validateMonthYearInRange:C,isDateRangeAllowed:E,checkMinMaxRange:x,matchDate:y,mapDatesArrToMap:M,isValidTime:k=>{let v=!0;if(!k||S())return!0;const B=!t.minDate&&!t.maxDate?L(k):k;return(t.maxTime||t.maxDate)&&(v=kn(t.maxTime,t.maxDate,"max",ie(B),v)),(t.minTime||t.minDate)&&(v=kn(t.minTime,t.minDate,"min",ie(B),v)),A(k,v)}}},et=()=>{const t=e.computed(()=>(n,s)=>n==null?void 0:n.includes(s)),r=e.computed(()=>(n,s)=>n.count?n.solo?!0:s===0:!0),a=e.computed(()=>(n,s)=>n.count?n.solo?!0:s===n.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:r,showRightIcon:a}},vr=(t,r,a)=>{const n=e.ref(0),s=e.reactive({[_e.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[_e.calendar]:!1,[_e.header]:!1}),l=b=>{var $;($=t.flow)!=null&&$.length&&(s[b]=!0,Object.keys(s).filter(E=>!s[E]).length||C())},f=()=>{var b;(b=t.flow)!=null&&b.length&&n.value!==-1&&(n.value+=1,r("flow-step",n.value),C())},w=()=>{n.value=-1},y=(b,$,...E)=>{t.flow[n.value]===b&&a.value&&a.value[$](...E)},C=()=>{y("month","toggleMonthPicker",!0),y("year","toggleYearPicker",!0),y("calendar","toggleTimePicker",!1,!0),y("time","toggleTimePicker",!0,!0);const b=t.flow[n.value];(b==="hours"||b==="minutes"||b==="seconds")&&y(b,"toggleTimePicker",!0,!0,b)};return{childMount:l,updateFlowStep:f,resetFlow:w,flowStep:n}},tt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null}},$e={...tt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},Tr={key:1,class:"dp__input_wrap"},Ar=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],Nr={key:2,class:"dp__clear_icon"},Pr=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...tt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTextInput:s,defaultedAriaLabels:l,defaultedInline:f,getDefaultPattern:w,getDefaultStartTime:y}=pe(n),C=e.ref(),b=e.ref(null),$=e.ref(!1),E=e.ref(!1),x=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!s.value.enabled,dp__disabled:n.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:$.value||n.isMenuOpen,dp__input_reg:!s.value.enabled,[n.inputClassName]:!!n.inputClassName})),K=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),C.value=null)},q=p=>{const z=y();return or(p,s.value.format??w(),z??gn({},n.enableSeconds),n.inputValue,E.value)},M=p=>{const{rangeSeparator:z}=s.value,[m,D]=p.split(`${z}`);if(m){const c=q(m.trim()),h=D?q(D.trim()):null,i=c&&h?[c,h]:[c];C.value=c?i:null}},S=()=>{E.value=!0},L=p=>{if(n.range)M(p);else if(n.multiDates){const z=p.split(";");C.value=z.map(m=>q(m.trim())).filter(m=>m)}else C.value=q(p)},O=p=>{var m;const z=typeof p=="string"?p:(m=p.target)==null?void 0:m.value;z!==""?(s.value.openMenu&&!n.isMenuOpen&&a("open"),L(z),a("set-input-date",C.value)):K(),E.value=!1,a("update:input-value",z)},U=p=>{s.value.enabled?(L(p.target.value),s.value.enterSubmit&&Bt(C.value)&&n.inputValue!==""?(a("set-input-date",C.value,!0),C.value=null):s.value.enterSubmit&&n.inputValue===""&&(C.value=null,a("clear"))):k(p)},A=p=>{s.value.enabled&&s.value.tabSubmit&&L(p.target.value),s.value.tabSubmit&&Bt(C.value)&&n.inputValue!==""?(a("set-input-date",C.value,!0),C.value=null):s.value.tabSubmit&&n.inputValue===""&&(C.value=null,a("clear"))},J=()=>{$.value=!0,a("focus")},k=p=>{p.preventDefault(),p.stopImmediatePropagation(),p.stopPropagation(),s.value.enabled&&s.value.openMenu&&!f.value.input&&!n.isMenuOpen?a("open"):s.value.enabled||a("toggle")},v=()=>{a("real-blur"),$.value=!1,(!n.isMenuOpen||f.value.enabled&&f.value.input)&&a("blur"),n.autoApply&&s.value.enabled&&C.value&&!n.isMenuOpen&&(a("set-input-date",C.value),a("select-date"),C.value=null)},B=()=>{a("clear")},Y=p=>{if(!s.value.enabled){if(p.code==="Tab")return;p.preventDefault()}};return r({focusInput:()=>{var p;(p=b.value)==null||p.focus({preventScroll:!0})},setParsedDate:p=>{C.value=p}}),(p,z)=>{var m;return e.openBlock(),e.createElementBlock("div",{onClick:k},[p.$slots.trigger&&!p.$slots["dp-input"]&&!e.unref(f).enabled?e.renderSlot(p.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!p.$slots.trigger&&(!e.unref(f).enabled||e.unref(f).input)?(e.openBlock(),e.createElementBlock("div",Tr,[p.$slots["dp-input"]&&!p.$slots.trigger&&!e.unref(f).enabled?e.renderSlot(p.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:O,onEnter:U,onTab:A,onClear:B,onBlur:v,onKeypress:Y,onPaste:S}):e.createCommentVNode("",!0),p.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:b,id:p.uid?`dp-input-${p.uid}`:void 0,name:p.name,class:e.normalizeClass(x.value),inputmode:e.unref(s).enabled?"text":"none",placeholder:p.placeholder,disabled:p.disabled,readonly:p.readonly,required:p.required,value:t.inputValue,autocomplete:p.autocomplete,"aria-label":(m=e.unref(l))==null?void 0:m.input,onInput:O,onKeydown:[e.withKeys(U,["enter"]),e.withKeys(A,["tab"]),Y],onBlur:v,onFocus:J,onKeypress:Y,onPaste:S},null,42,Ar)),e.createElementVNode("div",{onClick:z[2]||(z[2]=D=>a("toggle"))},[p.$slots["input-icon"]&&!p.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:z[0]||(z[0]=D=>a("toggle"))},[e.renderSlot(p.$slots,"input-icon")])):e.createCommentVNode("",!0),!p.$slots["input-icon"]&&!p.hideInputIcon&&!p.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(ze),{key:1,onClick:z[1]||(z[1]=D=>a("toggle")),class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0)]),p.$slots["clear-icon"]&&t.inputValue&&p.clearable&&!p.disabled&&!p.readonly?(e.openBlock(),e.createElementBlock("span",Nr,[e.renderSlot(p.$slots,"clear-icon",{clear:B})])):e.createCommentVNode("",!0),p.clearable&&!p.$slots["clear-icon"]&&t.inputValue&&!p.disabled&&!p.readonly?(e.openBlock(),e.createBlock(e.unref(jt),{key:3,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers(B,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),_r=["title"],Er={class:"dp__action_buttons"},Rr=["onKeydown","disabled"],Vr=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...$e},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:r}){const a=t,{defaultedActionRow:n,defaultedPreviewFormat:s,defaultedMultiCalendars:l,defaultedTextInput:f,defaultedInline:w,getDefaultPattern:y}=pe(a),{isValidTime:C}=Ue(a),{buildMatrix:b}=Te(),$=e.ref(null),E=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&b([ue($),ue(E)],"actionRow")});const x=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),K=e.computed(()=>!q.value||!M.value||!x.value),q=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:C(a.internalModelValue)),M=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(Y=>!k(Y)).length:k(a.internalModelValue):!0),S=()=>{const B=s.value;return a.timePicker||a.monthPicker,B(ie(a.internalModelValue))},L=()=>{const B=a.internalModelValue;return l.value.count>0?`${O(B[0])} - ${O(B[1])}`:[O(B[0]),O(B[1])]},O=B=>yn(B,s.value,a.formatLocale,f.value.rangeSeparator,a.modelAuto,y()),U=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof s.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?L():a.multiDates?a.internalModelValue.map(B=>`${O(B)}`):a.modelAuto?`${O(a.internalModelValue[0])}`:`${O(a.internalModelValue[0])} -`:O(a.internalModelValue):S()),A=()=>a.multiDates?"; ":" - ",J=e.computed(()=>Array.isArray(U.value)?U.value.join(A()):U.value),k=B=>{if(!a.monthPicker)return!0;let Y=!0;const H=T(be(B));if(a.minDate&&a.maxDate){const Z=T(be(a.minDate)),p=T(be(a.maxDate));return ge(H,Z)&&fe(H,p)||ae(H,Z)||ae(H,p)}if(a.minDate){const Z=T(be(a.minDate));Y=ge(H,Z)||ae(H,Z)}if(a.maxDate){const Z=T(be(a.maxDate));Y=fe(H,Z)||ae(H,Z)}return Y},v=()=>{q.value&&M.value&&x.value?r("select-date"):r("invalid-select")};return(B,Y)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[B.$slots["action-row"]?e.renderSlot(B.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:B.internalModelValue,disabled:K.value,selectDate:()=>B.$emit("select-date"),closePicker:()=>B.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(n).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:J.value},[B.$slots["action-preview"]?e.renderSlot(B.$slots,"action-preview",{key:0,value:B.internalModelValue}):e.createCommentVNode("",!0),B.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(J.value),1)],64))],8,_r)):e.createCommentVNode("",!0),e.createElementVNode("div",Er,[B.$slots["action-buttons"]?e.renderSlot(B.$slots,"action-buttons",{key:0,value:B.internalModelValue}):e.createCommentVNode("",!0),B.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(w).enabled&&e.unref(n).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:$,class:"dp__action_button dp__action_cancel",onClick:Y[0]||(Y[0]=H=>B.$emit("close-picker")),onKeydown:[Y[1]||(Y[1]=e.withKeys(H=>B.$emit("close-picker"),["enter"])),Y[2]||(Y[2]=e.withKeys(H=>B.$emit("close-picker"),["space"]))]},e.toDisplayString(B.cancelText),545)):e.createCommentVNode("",!0),e.unref(n).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:$,class:"dp__action_button dp__action_cancel",onClick:Y[3]||(Y[3]=H=>B.$emit("select-now")),onKeydown:[Y[4]||(Y[4]=e.withKeys(H=>B.$emit("select-now"),["enter"])),Y[5]||(Y[5]=e.withKeys(H=>B.$emit("select-now"),["space"]))]},e.toDisplayString(B.nowButtonLabel),545)):e.createCommentVNode("",!0),e.unref(n).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[e.withKeys(v,["enter"]),e.withKeys(v,["space"])],onClick:v,disabled:K.value,ref_key:"selectButtonRef",ref:E},e.toDisplayString(B.selectText),41,Rr)):e.createCommentVNode("",!0)],64))])],64))],4))}}),Or=["onKeydown"],Yr={class:"dp__selection_grid_header"},Ir=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],zr=["aria-label","onKeydown"],We=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:s,buildMultiLevelMatrix:l,setMonthPicker:f}=Te(),{defaultedAriaLabels:w,defaultedTextInput:y}=pe(n),{hideNavigationButtons:C}=et(),b=e.ref(!1),$=e.ref(null),E=e.ref(null),x=e.ref([]),K=e.ref(),q=e.ref(null),M=e.ref(0),S=e.ref(null);e.onBeforeUpdate(()=>{$.value=null}),e.onMounted(()=>{e.nextTick().then(()=>B()),O(),L(!0)}),e.onUnmounted(()=>L(!1));const L=c=>{var h;n.arrowNavigation&&((h=n.headerRefs)!=null&&h.length?f(c):s(c))},O=()=>{var h;const c=ue(E);c&&(y.value.enabled||($.value?(h=$.value)==null||h.focus({preventScroll:!0}):c.focus({preventScroll:!0})),b.value=c.clientHeight<c.scrollHeight)},U=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!n.useRelative,"dp--overlay-relative":n.useRelative})),A=e.computed(()=>n.useRelative?{height:`${n.height}px`,width:"260px"}:void 0),J=e.computed(()=>({dp__overlay_col:!0})),k=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:b.value,dp__button_bottom:n.isLast})),v=e.computed(()=>{var c,h;return{dp__overlay_container:!0,dp__container_flex:((c=n.items)==null?void 0:c.length)<=6,dp__container_block:((h=n.items)==null?void 0:h.length)>6}}),B=()=>{e.nextTick().then(()=>{const c=ue($),h=ue(E),i=ue(q),N=ue(S),X=i?i.getBoundingClientRect().height:0;h&&(M.value=h.getBoundingClientRect().height-X),c&&N&&(N.scrollTop=c.offsetTop-N.offsetTop-(M.value/2-c.getBoundingClientRect().height)-X)})},Y=c=>{c.disabled||a("selected",c.value)},H=()=>{a("toggle"),a("reset-flow")},Z=()=>{n.escClose&&H()},p=(c,h,i,N)=>{c&&(h.active&&($.value=c),n.arrowNavigation&&(Array.isArray(x.value[i])?x.value[i][N]=c:x.value[i]=[c],z()))},z=()=>{var h,i;const c=(h=n.headerRefs)!=null&&h.length?[n.headerRefs].concat(x.value):x.value.concat([n.skipButtonRef?[]:[q.value]]);l(ie(c),(i=n.headerRefs)!=null&&i.length?"monthPicker":"selectionGrid")},m=c=>{n.arrowNavigation||c.stopImmediatePropagation()},D=c=>{K.value=c,a("hover-value",c)};return r({focusGrid:O}),(c,h)=>{var i;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:E,class:e.normalizeClass(U.value),style:e.normalizeStyle(A.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(Z,["prevent"]),["esc"]),h[0]||(h[0]=e.withKeys(e.withModifiers(N=>m(N),["prevent"]),["left"])),h[1]||(h[1]=e.withKeys(e.withModifiers(N=>m(N),["prevent"]),["up"])),h[2]||(h[2]=e.withKeys(e.withModifiers(N=>m(N),["prevent"]),["down"])),h[3]||(h[3]=e.withKeys(e.withModifiers(N=>m(N),["prevent"]),["right"]))]},[e.createElementVNode("div",{class:e.normalizeClass(v.value),ref_key:"containerRef",ref:S,role:"grid",style:e.normalizeStyle({height:`${M.value}px`})},[e.createElementVNode("div",Yr,[e.renderSlot(c.$slots,"header")]),c.$slots.overlay?e.renderSlot(c.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(c.items,(N,X)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:c.items.length>=3}]),key:X,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N,(o,I)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(J.value),key:o.value,"aria-selected":o.active,"aria-disabled":o.disabled,ref_for:!0,ref:P=>p(P,o,X,I),tabindex:"0",onClick:P=>Y(o),onKeydown:[e.withKeys(e.withModifiers(P=>Y(o),["prevent"]),["enter"]),e.withKeys(e.withModifiers(P=>Y(o),["prevent"]),["space"])],onMouseover:P=>D(o.value)},[e.createElementVNode("div",{class:e.normalizeClass(o.className)},[c.$slots.item?e.renderSlot(c.$slots,"item",{key:0,item:o}):e.createCommentVNode("",!0),c.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.text),1)],64))],2)],42,Ir))),128))],2))),128))],6),c.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,role:"button","aria-label":(i=e.unref(w))==null?void 0:i.toggleOverlay,class:e.normalizeClass(k.value),tabindex:"0",ref_key:"toggleButton",ref:q,onClick:H,onKeydown:[e.withKeys(H,["enter"]),e.withKeys(H,["tab"])]},[e.renderSlot(c.$slots,"button-icon")],42,zr)),[[e.vShow,!e.unref(C)(c.hideNavigation,c.type)]]):e.createCommentVNode("",!0)],46,Or)}}}),Et=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const r=t,a=e.computed(()=>r.multiCalendars>0?[...Array(r.multiCalendars).keys()]:[0]),n=e.computed(()=>({dp__instance_calendar:r.multiCalendars>0}));return(s,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!s.stretch,"dp--menu--inner-stretched":s.stretch,dp__flex_display:s.multiCalendars>0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(f,w)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:e.normalizeClass(n.value)},[e.renderSlot(s.$slots,"default",{instance:f,index:w})],2))),128))],2))}}),Lr=["aria-label","aria-disabled"],xe=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,s)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"dp__btn dp--arrow-btn-nav",onClick:s[0]||(s[0]=l=>n.$emit("activate")),onKeydown:[s[1]||(s[1]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":n.ariaLabel,"aria-disabled":n.disabled,ref_key:"elRef",ref:a},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:n.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Lr))}}),Rt=(t,r,a)=>{if(r.value&&Array.isArray(r.value))if(r.value.some(n=>ae(t,n))){const n=r.value.filter(s=>!ae(s,t));r.value=n.length?n:null}else(a&&+a>r.value.length||!a)&&r.value.push(t);else r.value=[t]},Dn=(t,r,a)=>{let n=t.value?t.value.slice():[];n.length===2&&n[1]!==null&&(n=[]),n.length?fe(r,n[0])?(n.unshift(r),a("range-start",n[0]),a("range-start",n[1])):(n[1]=r,a("range-end",r)):(n=[r],a("range-start",r)),t.value=n},Hr=(t,r)=>{const{defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:s}=pe(t),{modelValue:l,year:f,month:w,calendars:y}=Fe(t,r),C=e.computed(()=>on(t.formatLocale,t.locale,t.monthNameFormat)),b=e.computed(()=>Ct(t.yearRange,t.reverseYears)),$=e.ref(null),E=()=>{for(let m=0;m<a.value.count;m++)if(m===0)y.value[m]=y.value[0];else{const D=u.set(T(),y.value[m-1]);y.value[m]={month:u.getMonth(D),year:u.getYear(u.addYears(D,m))}}},x=m=>{if(!m)return E();const D=u.set(T(),y.value[m]);return y.value[0].year=u.getYear(u.subYears(D,a.value.count-1)),E()},K=m=>t.focusStartDate?m[0]:m[1]?m[1]:m[0],q=()=>{if(l.value){const m=Array.isArray(l.value)?K(l.value):l.value;y.value[0]={month:u.getMonth(m),year:u.getYear(m)}}};e.onMounted(()=>{q(),a.value.count&&E()});const M=e.computed(()=>(m,D)=>{const c=u.set(be(new Date),{month:w.value(m),year:f.value(m)});return hn(c,t.maxDate,t.minDate,t.preventMinMaxNavigation,D)}),S=m=>m?{month:u.getMonth(m),year:u.getYear(m)}:{month:null,year:null},L=()=>l.value?Array.isArray(l.value)?l.value.map(m=>S(m)):S(l.value):S(),O=(m,D)=>{const c=y.value[m],h=L();return Array.isArray(h)?h.some(i=>i.year===(c==null?void 0:c.year)&&i.month===D):(c==null?void 0:c.year)===h.year&&D===h.month},U=(m,D,c)=>{var i,N;const h=L();return Array.isArray(h)?f.value(D)===((i=h[c])==null?void 0:i.year)&&m===((N=h[c])==null?void 0:N.month):!1},A=(m,D)=>{if(t.range){const c=L();if(Array.isArray(l.value)&&Array.isArray(c)){const h=U(m,D,0)||U(m,D,1),i=Se(be(T()),m,f.value(D));return St(l.value,$.value,i)&&!h}return!1}return!1},J=e.computed(()=>m=>Ve(C.value,D=>{const c=O(m,D.value),h=Le(D.value,dn(f.value(m),t.minDate),fn(f.value(m),t.maxDate))||fr(t.disabledDates,f.value(m)).includes(D.value),i=A(D.value,m);return{active:c,disabled:h,isBetween:i}})),k=e.computed(()=>m=>Ve(b.value,D=>{const c=f.value(m)===D.value,h=Le(D.value,Oe(t.minDate),Oe(t.maxDate));return{active:c,disabled:h}})),v=(m,D)=>Se(be(T()),m,f.value(D)),B=(m,D)=>{const c=l.value?l.value:be(new Date);l.value=Se(c,m,f.value(D)),r("auto-apply")},Y=(m,D)=>{var c;Dn(l,v(m,D),r),r("auto-apply",((c=l.value)==null?void 0:c.length)===1)},H=(m,D)=>{Rt(v(m,D),l,t.multiDatesLimit),r("auto-apply",!0)};return{groupedMonths:J,groupedYears:k,year:f,isDisabled:M,defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:s,setHoverDate:(m,D)=>{$.value=v(m,D)},selectMonth:(m,D)=>(y.value[D].month=m,t.multiDates?H(m,D):t.range?Y(m,D):B(m,D)),selectYear:(m,D)=>{y.value[D].year=m,a.value.count&&!a.value.solo&&x(D)}}},Kr={class:"dp__month_picker_header"},Ur=["aria-label","onClick","onKeydown"],Wr=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...$e},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply"],setup(t,{emit:r}){const a=t,{groupedMonths:n,groupedYears:s,year:l,isDisabled:f,defaultedMultiCalendars:w,defaultedAriaLabels:y,defaultedTransitions:C,setHoverDate:b,selectMonth:$,selectYear:E}=Hr(a,r),{transitionName:x,showTransition:K}=Ke(C),{showRightIcon:q,showLeftIcon:M}=et(),S=e.ref([!1]),L=(A,J)=>{E(A,J),U(J)},O=(A,J=!1)=>{if(!f.value(A,J)){const k=J?l.value(A)+1:l.value(A)-1;E(k,A)}},U=(A,J=!1,k)=>{J||r("reset-flow"),k!==void 0?S.value[A]=k:S.value[A]=!S.value[A],S.value||r("overlay-closed")};return(A,J)=>(e.openBlock(),e.createBlock(Et,{"multi-calendars":e.unref(w).count,stretch:""},{default:e.withCtx(({instance:k})=>[e.createVNode(We,{items:e.unref(n)(k),"arrow-navigation":A.arrowNavigation,"is-last":A.autoApply&&!A.keepActionRow,"esc-close":A.escClose,height:A.modeHeight,onSelected:v=>e.unref($)(v,k),onHoverValue:v=>e.unref(b)(v,k),"use-relative":"",type:"month"},{header:e.withCtx(()=>{var v,B,Y;return[e.createElementVNode("div",Kr,[e.unref(M)(e.unref(w),k)?(e.openBlock(),e.createBlock(xe,{key:0,ref:"mpPrevIconRef","aria-label":(v=e.unref(y))==null?void 0:v.prevYear,disabled:e.unref(f)(k,!1),onActivate:H=>O(k,!1)},{default:e.withCtx(()=>[A.$slots["arrow-left"]?e.renderSlot(A.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),A.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ot),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp--year-select",role:"button",ref:"mpYearButtonRef","aria-label":(B=e.unref(y))==null?void 0:B.openYearsOverlay,tabindex:"0",onClick:()=>U(k,!1),onKeydown:e.withKeys(()=>U(k,!1),["enter"])},[A.$slots.year?e.renderSlot(A.$slots,"year",{key:0,year:e.unref(l)(k)}):e.createCommentVNode("",!0),A.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(l)(k)),1)],64))],40,Ur),e.unref(q)(e.unref(w),k)?(e.openBlock(),e.createBlock(xe,{key:1,ref:"mpNextIconRef","aria-label":(Y=e.unref(y))==null?void 0:Y.nextYear,disabled:e.unref(f)(k,!1),onActivate:H=>O(k,!0)},{default:e.withCtx(()=>[A.$slots["arrow-right"]?e.renderSlot(A.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),A.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(lt),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(x)(S.value[k]),css:e.unref(K)},{default:e.withCtx(()=>[S.value[k]?(e.openBlock(),e.createBlock(We,{key:0,items:e.unref(s)(k),"text-input":A.textInput,"esc-close":A.escClose,onToggle:H=>U(k),onSelected:H=>L(H,k),"is-last":A.autoApply&&!A.keepActionRow,type:"year"},e.createSlots({"button-icon":e.withCtx(()=>[A.$slots["calendar-icon"]?e.renderSlot(A.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),A.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))]),_:2},[A.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:H})=>[e.renderSlot(A.$slots,"year-overlay-value",{text:H.text,value:H.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","onToggle","onSelected","is-last"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])])]}),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","onSelected","onHoverValue"])]),_:3},8,["multi-calendars"]))}}),xr=(t,r)=>{const{modelValue:a}=Fe(t,r),n=e.ref(null),s=b=>Array.isArray(a.value)?a.value.some($=>u.getYear($)===b):a.value?u.getYear(a.value)===b:!1,l=b=>t.range&&Array.isArray(a.value)?St(a.value,n.value,w(b)):!1,f=e.computed(()=>Ve(Ct(t.yearRange,t.reverseYears),b=>{const $=s(b.value),E=Le(b.value,Oe(t.minDate),Oe(t.maxDate)),x=l(b.value);return{active:$,disabled:E,isBetween:x}})),w=b=>u.setYear(be(new Date),b);return{groupedYears:f,setHoverValue:b=>{n.value=u.setYear(be(new Date),b)},selectYear:b=>{if(t.multiDates)return Rt(w(b),a,t.multiDatesLimit);if(t.range)return Dn(a,w(b),r);a.value=w(b)}}},jr=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...$e},emits:["update:internal-model-value","reset-flow","range-start","range-end"],setup(t,{emit:r}){const a=t,{groupedYears:n,selectYear:s,setHoverValue:l}=xr(a,r);return(f,w)=>(e.openBlock(),e.createBlock(We,{items:e.unref(n),"is-last":f.autoApply&&!f.keepActionRow,height:f.modeHeight,type:"year","use-relative":"",onSelected:e.unref(s),onHoverValue:e.unref(l)},e.createSlots({_:2},[f.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:y})=>[e.renderSlot(f.$slots,"year-overlay-value",{text:y.text,value:y.value})]),key:"0"}:void 0]),1032,["items","is-last","height","onSelected","onHoverValue"]))}}),Gr={key:0,class:"dp__time_input"},qr=["aria-label","onKeydown","onClick"],Zr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Jr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Xr=["aria-label","disabled","onKeydown","onClick"],Qr=["aria-label","onKeydown","onClick"],Fr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ea=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),ta={key:0},na=["aria-label","onKeydown"],ra=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Object,default:()=>({})},...$e},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:s,setTimePickerBackRef:l}=Te(),{defaultedAriaLabels:f,defaultedTransitions:w,defaultedFilters:y}=pe(n),{transitionName:C,showTransition:b}=Ke(w),$=e.reactive({hours:!1,minutes:!1,seconds:!1}),E=e.ref("AM"),x=e.ref(null),K=e.ref([]);e.onMounted(()=>{a("mounted")});const q=o=>u.set(new Date,{hours:o.hours,minutes:o.minutes,seconds:n.enableSeconds?o.seconds:0,milliseconds:0}),M=e.computed(()=>o=>Y(o,n[o])),S=e.computed(()=>({hours:n.hours,minutes:n.minutes,seconds:n.seconds})),L=e.computed(()=>o=>!Z(+n[o]+ +n[`${o}Increment`],o)),O=e.computed(()=>o=>!Z(+n[o]-+n[`${o}Increment`],o)),U=(o,I)=>u.add(u.set(T(),o),I),A=(o,I)=>u.sub(u.set(T(),o),I),J=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!n.timePickerInline,dp__time_col_reg_block:!n.enableSeconds&&n.is24&&!n.timePickerInline,dp__time_col_reg_inline:!n.enableSeconds&&n.is24&&n.timePickerInline,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),k=e.computed(()=>{const o=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?o.concat([{type:"",separator:!0},{type:"seconds"}]):o}),v=e.computed(()=>k.value.filter(o=>!o.separator)),B=e.computed(()=>o=>{if(o==="hours"){const I=c(+n.hours);return{text:I<10?`0${I}`:`${I}`,value:I}}return{text:n[o]<10?`0${n[o]}`:`${n[o]}`,value:n[o]}}),Y=(o,I)=>{var P;return n.disabledTimesConfig[o]?!!((P=n.disabledTimesConfig[o])!=null&&P.includes(I)):!0},H=o=>{const I=n.is24?24:12,P=o==="hours"?I:60,g=+n[`${o}GridIncrement`],R=o==="hours"&&!n.is24?g:0,ee=[];for(let W=R;W<P;W+=g)ee.push({value:W,text:W<10?`0${W}`:`${W}`});return o==="hours"&&!n.is24&&ee.push({value:0,text:"12"}),Ve(ee,W=>({active:!1,disabled:y.value.times[o].includes(W.value)||!Z(W.value,o)||Y(o,W.value)}))},Z=(o,I)=>{const P=n.minTime?q($t(n.minTime)):null,g=n.maxTime?q($t(n.maxTime)):null,R=q($t(S.value,I,o));return P&&g?(u.isBefore(R,g)||u.isEqual(R,g))&&(u.isAfter(R,P)||u.isEqual(R,P)):P?u.isAfter(R,P)||u.isEqual(R,P):g?u.isBefore(R,g)||u.isEqual(R,g):!0},p=o=>n[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],z=o=>{p(o)||($[o]=!$[o],$[o]||a("overlay-closed"))},m=o=>o==="hours"?u.getHours:o==="minutes"?u.getMinutes:u.getSeconds,D=(o,I=!0)=>{const P=I?U:A,g=I?+n[`${o}Increment`]:-+n[`${o}Increment`];Z(+n[o]+g,o)&&a(`update:${o}`,m(o)(P({[o]:+n[o]},{[o]:+n[`${o}Increment`]})))},c=o=>n.is24?o:(o>=12?E.value="PM":E.value="AM",tr(o)),h=()=>{E.value==="PM"?(E.value="AM",a("update:hours",n.hours-12)):(E.value="PM",a("update:hours",n.hours+12)),a("am-pm-change",E.value)},i=o=>{$[o]=!0},N=(o,I,P)=>{if(o&&n.arrowNavigation){Array.isArray(K.value[I])?K.value[I][P]=o:K.value[I]=[o];const g=K.value.reduce((R,ee)=>ee.map((W,le)=>[...R[le]||[],ee[le]]),[]);l(n.closeTimePickerBtn),x.value&&(g[1]=g[1].concat(x.value)),s(g,n.order)}},X=(o,I)=>(z(o),o==="hours"&&!n.is24?a(`update:${o}`,E.value==="PM"?I+12:I):a(`update:${o}`,I));return r({openChildCmp:i}),(o,I)=>{var P;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Gr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(k.value,(g,R)=>{var ee,W,le;return e.openBlock(),e.createElementBlock("div",{key:R,class:e.normalizeClass(J.value)},[g.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_top:n.timePickerInline,dp__inc_dec_button_disabled:L.value(g.type)}),"aria-label":(ee=e.unref(f))==null?void 0:ee.incrementValue(g.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>D(g.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>D(g.type),["prevent"]),["space"])],onClick:te=>D(g.type),ref_for:!0,ref:te=>N(te,R,0)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Zr,Jr],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(it),{key:1}))],64))],42,qr),e.createElementVNode("button",{type:"button","aria-label":(W=e.unref(f))==null?void 0:W.openTpOverlay(g.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!n.timePickerInline,dp__time_display_inline:n.timePickerInline,"dp--time-invalid":M.value(g.type),"dp--time-overlay-btn":!M.value(g.type)}),disabled:p(g.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>z(g.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>z(g.type),["prevent"]),["space"])],onClick:te=>z(g.type),ref_for:!0,ref:te=>N(te,R,1)},[o.$slots[g.type]?e.renderSlot(o.$slots,g.type,{key:0,text:B.value(g.type).text,value:B.value(g.type).value}):e.createCommentVNode("",!0),o.$slots[g.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(B.value(g.type).text),1)],64))],42,Xr),e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_bottom:n.timePickerInline,dp__inc_dec_button_disabled:O.value(g.type)}),"aria-label":(le=e.unref(f))==null?void 0:le.decrementValue(g.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>D(g.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>D(g.type,!1),["prevent"]),["space"])],onClick:te=>D(g.type,!1),ref_for:!0,ref:te=>N(te,R,2)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Fr,ea],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ct),{key:1}))],64))],42,Qr)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ta,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:h,value:E.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:x,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(P=e.unref(f))==null?void 0:P.amPmButton,tabindex:"0",onClick:h,onKeydown:[e.withKeys(e.withModifiers(h,["prevent"]),["enter"]),e.withKeys(e.withModifiers(h,["prevent"]),["space"])]},e.toDisplayString(E.value),41,na))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.value,(g,R)=>(e.openBlock(),e.createBlock(e.Transition,{key:R,name:e.unref(C)($[g.type]),css:e.unref(b)},{default:e.withCtx(()=>[$[g.type]?(e.openBlock(),e.createBlock(We,{key:0,items:H(g.type),"is-last":o.autoApply&&!o.keepActionRow,"esc-close":o.escClose,type:g.type,"text-input":o.textInput,"arrow-navigation":o.arrowNavigation,onSelected:ee=>X(g.type,ee),onToggle:ee=>z(g.type),onResetFlow:I[0]||(I[0]=ee=>o.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(st),{key:1}))]),_:2},[o.$slots[`${g.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:ee})=>[e.renderSlot(o.$slots,`${g.type}-overlay-value`,{text:ee.text,value:ee.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","arrow-navigation","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),aa=["aria-label"],oa=["tabindex"],la=["aria-label"],Cn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:()=>({})},...$e},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:s,setTimePicker:l}=Te(),f=e.useSlots(),{defaultedTransitions:w,defaultedAriaLabels:y,defaultedTextInput:C}=pe(n),{transitionName:b,showTransition:$}=Ke(w),{hideNavigationButtons:E}=et(),x=e.ref(null),K=e.ref(null),q=e.ref([]),M=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?s([ue(x.value)],"time"):l(!0,n.timePicker)});const S=e.computed(()=>n.range&&n.modelAuto?ln(n.internalModelValue):!0),L=e.ref(!1),O=p=>({hours:Array.isArray(n.hours)?n.hours[p]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[p]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[p]:n.seconds}),U=e.computed(()=>{const p=[];if(n.range)for(let z=0;z<2;z++)p.push(O(z));else p.push(O(0));return p}),A=(p,z=!1,m="")=>{z||a("reset-flow"),L.value=p,a(p?"overlay-opened":"overlay-closed"),n.arrowNavigation&&l(p),e.nextTick(()=>{m!==""&&q.value[0]&&q.value[0].openChildCmp(m)})},J=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:n.autoApply&&!n.keepActionRow})),k=De(f,"timePicker"),v=(p,z,m)=>n.range?z===0?[p,U.value[1][m]]:[U.value[0][m],p]:p,B=p=>{a("update:hours",p)},Y=p=>{a("update:minutes",p)},H=p=>{a("update:seconds",p)},Z=()=>{if(M.value&&!C.value.enabled){const p=rr(M.value);p&&p.focus({preventScroll:!0})}};return r({toggleTimePicker:A}),(p,z)=>{var m;return e.openBlock(),e.createElementBlock("div",null,[!p.timePicker&&!p.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:e.normalizeClass(J.value),"aria-label":(m=e.unref(y))==null?void 0:m.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:x,onKeydown:[z[0]||(z[0]=e.withKeys(D=>A(!0),["enter"])),z[1]||(z[1]=e.withKeys(D=>A(!0),["space"]))],onClick:z[2]||(z[2]=D=>A(!0))},[p.$slots["clock-icon"]?e.renderSlot(p.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(st),{key:1}))],42,aa)),[[e.vShow,!e.unref(E)(p.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(b)(L.value),css:e.unref($)&&!p.timePickerInline},{default:e.withCtx(()=>{var D;return[L.value||p.timePicker||p.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass({dp__overlay:!p.timePickerInline,"dp--overlay-absolute":!n.timePicker&&!p.timePickerInline,"dp--overlay-relative":n.timePicker}),style:e.normalizeStyle(p.timePicker?{height:`${p.modeHeight}px`}:void 0),ref_key:"overlayRef",ref:M,tabindex:p.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(p.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[p.$slots["time-picker-overlay"]?e.renderSlot(p.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:B,setMinutes:Y,setSeconds:H}):e.createCommentVNode("",!0),p.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(p.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(U.value,(c,h)=>e.withDirectives((e.openBlock(),e.createBlock(ra,e.mergeProps({key:h},{...p.$props,order:h,hours:c.hours,minutes:c.minutes,seconds:c.seconds,closeTimePickerBtn:K.value,disabledTimesConfig:t.disabledTimesConfig(h),disabled:h===0?p.fixedStart:p.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:q,"onUpdate:hours":i=>B(v(i,h,"hours")),"onUpdate:minutes":i=>Y(v(i,h,"minutes")),"onUpdate:seconds":i=>H(v(i,h,"seconds")),onMounted:Z,onOverlayClosed:Z,onAmPmChange:z[3]||(z[3]=i=>p.$emit("am-pm-change",i))}),e.createSlots({_:2},[e.renderList(e.unref(k),(i,N)=>({name:i,fn:e.withCtx(X=>[e.renderSlot(p.$slots,i,e.normalizeProps(e.guardReactiveProps(X)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,h===0?!0:S.value]])),128))],2)),!p.timePicker&&!p.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:K,class:e.normalizeClass(J.value),"aria-label":(D=e.unref(y))==null?void 0:D.closeTimePicker,tabindex:"0",onKeydown:[z[4]||(z[4]=e.withKeys(c=>A(!1),["enter"])),z[5]||(z[5]=e.withKeys(c=>A(!1),["space"]))],onClick:z[6]||(z[6]=c=>A(!1))},[p.$slots["calendar-icon"]?e.renderSlot(p.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))],42,la)),[[e.vShow,!e.unref(E)(p.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,oa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Sn=(t,r,a,n)=>{const s=(M,S)=>Array.isArray(r[M])?r[M][S]:r[M],l=M=>t.enableSeconds?Array.isArray(r.seconds)?r.seconds[M]:r.seconds:0,f=(M,S)=>M?S!==void 0?Be(M,s("hours",S),s("minutes",S),l(S)):Be(M,r.hours,r.minutes,l()):T(),w=(M,S)=>{r[M]=S},y=(M,S)=>{const L=Object.fromEntries(Object.keys(r).map(O=>O===M?[O,S]:[O,r[O]].slice()));if(t.range&&!t.disableTimeRangeValidation){const O=A=>a.value?Be(a.value[A],L.hours[A],L.minutes[A],L.seconds[A]):null,U=A=>u.setMilliseconds(a.value[A],0);return!(ae(O(0),O(1))&&(u.isAfter(O(0),U(1))||u.isBefore(O(1),U(0))))}return!0},C=(M,S)=>{y(M,S)&&(w(M,S),n&&n())},b=M=>{C("hours",M)},$=M=>{C("minutes",M)},E=M=>{C("seconds",M)},x=(M,S,L,O)=>{S&&b(M),!S&&!L&&$(M),L&&E(M),a.value&&O(a.value)},K=M=>{if(M){const S=Array.isArray(M),L=S?[+M[0].hours,+M[1].hours]:+M.hours,O=S?[+M[0].minutes,+M[1].minutes]:+M.minutes,U=S?[+M[0].seconds,+M[1].seconds]:+M.seconds;w("hours",L),w("minutes",O),t.enableSeconds&&w("seconds",U)}},q=e.computed(()=>M=>{var S;if(Array.isArray(t.disabledTimes)){const L=Array.isArray(r.hours)?r.hours[M]:r.hours,O=t.disabledTimes.filter(U=>+U.hours===L);return((S=O[0])==null?void 0:S.minutes)==="*"?{hours:[L],minutes:void 0,seconds:void 0}:{hours:[],minutes:(O==null?void 0:O.map(U=>+U.minutes))??[],seconds:(O==null?void 0:O.map(U=>U.seconds?+U.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:w,updateHours:b,updateMinutes:$,updateSeconds:E,getSetDateTime:f,updateTimeValues:x,getSecondsValue:l,assignStartTime:K,disabledTimesConfig:q}},sa=(t,r)=>{const{modelValue:a,time:n}=Fe(t,r),{defaultedStartTime:s}=pe(t),{updateTimeValues:l,getSetDateTime:f,setTime:w,assignStartTime:y,disabledTimesConfig:C}=Sn(t,n,a),b=()=>{t.range?a.value=[f(null,0),f(null,1)]:a.value=f(null)},$=M=>Array.isArray(M)?[Ne(T(M[0])),Ne(T(M[1]))]:[Ne(M??T())],E=(M,S,L)=>{w("hours",M),w("minutes",S),t.enableSeconds&&w("seconds",L)},x=()=>{const[M,S]=$(a.value);return t.range?E([M.hours,S.hours],[M.minutes,S.minutes],[M.seconds,S.minutes]):E(M.hours,M.minutes,M.seconds)};e.onMounted(()=>{if(!t.shadow)return y(s.value),a.value?x():b()});const K=()=>{Array.isArray(a.value)?a.value=a.value.map((M,S)=>M&&f(M,S)):a.value=f(a.value),r("time-update")};return{time:n,disabledTimesConfig:C,updateTime:(M,S=!0,L=!1)=>{l(M,S,L,K)}}},ia=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...$e},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{emit:r}){const a=t,n=e.useSlots(),s=De(n,"timePicker"),{time:l,disabledTimesConfig:f,updateTime:w}=sa(a,r);return(y,C)=>(e.openBlock(),e.createBlock(Et,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Cn,e.mergeProps(y.$props,{hours:e.unref(l).hours,minutes:e.unref(l).minutes,seconds:e.unref(l).seconds,"internal-model-value":y.internalModelValue,"disabled-times-config":e.unref(f),"onUpdate:hours":C[0]||(C[0]=b=>e.unref(w)(b)),"onUpdate:minutes":C[1]||(C[1]=b=>e.unref(w)(b,!1)),"onUpdate:seconds":C[2]||(C[2]=b=>e.unref(w)(b,!1,!0)),onAmPmChange:C[3]||(C[3]=b=>y.$emit("am-pm-change",b))}),e.createSlots({_:2},[e.renderList(e.unref(s),(b,$)=>({name:b,fn:e.withCtx(E=>[e.renderSlot(y.$slots,b,e.normalizeProps(e.guardReactiveProps(E)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"])]),_:3}))}}),ca={class:"dp__month_year_row"},ua=["onClick","onKeydown","aria-label"],da=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...$e},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTransitions:s,defaultedAriaLabels:l,defaultedMultiCalendars:f,defaultedFilters:w}=pe(n),{transitionName:y,showTransition:C}=Ke(s),{buildMatrix:b}=Te(),{handleMonthYearChange:$,isDisabled:E,updateMonthYear:x}=Dr(n,a),{showLeftIcon:K,showRightIcon:q}=et(),M=e.ref(!1),S=e.ref(!1),L=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const O=c=>({get:()=>n[c],set:h=>{const i=c===Me.month?Me.year:Me.month;a("update-month-year",{[c]:h,[i]:n[i]}),c===Me.month?H(!0):Z(!0)}}),U=e.computed(O(Me.month)),A=e.computed(O(Me.year)),J=e.computed(()=>c=>({month:n.month,year:n.year,items:c===Me.month?n.months:n.years,instance:n.instance,updateMonthYear:x,toggle:c===Me.month?H:Z})),k=e.computed(()=>{const c=n.months.find(h=>h.value===n.month);return c||{text:"",value:0}}),v=e.computed(()=>Ve(n.months,c=>{const h=n.month===c.value,i=Le(c.value,dn(n.year,n.minDate),fn(n.year,n.maxDate))||w.value.months.includes(c.value);return{active:h,disabled:i}})),B=e.computed(()=>Ve(n.years,c=>{const h=n.year===c.value,i=Le(c.value,Oe(n.minDate),Oe(n.maxDate))||w.value.years.includes(c.value);return{active:h,disabled:i}})),Y=(c,h)=>{h!==void 0?c.value=h:c.value=!c.value,c.value||a("overlay-closed")},H=(c=!1,h)=>{p(c),Y(M,h)},Z=(c=!1,h)=>{p(c),Y(S,h)},p=c=>{c||a("reset-flow")},z=(c,h)=>{n.arrowNavigation&&(L.value[h]=ue(c),b(L.value,"monthYear"))},m=e.computed(()=>{var c,h;return[{type:Me.month,index:1,toggle:H,modelValue:U.value,updateModelValue:i=>U.value=i,text:k.value.text,showSelectionGrid:M.value,items:v.value,ariaLabel:(c=l.value)==null?void 0:c.openMonthsOverlay},{type:Me.year,index:2,toggle:Z,modelValue:A.value,updateModelValue:i=>A.value=i,text:n.year,showSelectionGrid:S.value,items:B.value,ariaLabel:(h=l.value)==null?void 0:h.openYearsOverlay}]}),D=e.computed(()=>n.disableYearSelect?[m.value[0]]:m.value);return r({toggleMonthPicker:H,toggleYearPicker:Z,handleMonthYearChange:$}),(c,h)=>{var i,N,X;return e.openBlock(),e.createElementBlock("div",ca,[c.$slots["month-year"]?e.renderSlot(c.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(x),handleMonthYearChange:e.unref($),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(K)(e.unref(f),t.instance)&&!c.vertical?(e.openBlock(),e.createBlock(xe,{key:0,"aria-label":(i=e.unref(l))==null?void 0:i.prevMonth,disabled:e.unref(E)(!1),onActivate:h[0]||(h[0]=o=>e.unref($)(!1)),onSetRef:h[1]||(h[1]=o=>z(o,0))},{default:e.withCtx(()=>[c.$slots["arrow-left"]?e.renderSlot(c.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ot),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:c.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.value,(o,I)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:o.type},[e.createElementVNode("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:o.toggle,onKeydown:[e.withKeys(e.withModifiers(o.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(o.toggle,["prevent"]),["space"])],"aria-label":o.ariaLabel,tabindex:"0",ref_for:!0,ref:P=>z(P,I+1)},[c.$slots[o.type]?e.renderSlot(c.$slots,o.type,e.normalizeProps(e.mergeProps({key:0},{text:o.text}))):e.createCommentVNode("",!0),c.$slots[o.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.text),1)],64))],40,ua),e.createVNode(e.Transition,{name:e.unref(y)(o.showSelectionGrid),css:e.unref(C)},{default:e.withCtx(()=>[o.showSelectionGrid?(e.openBlock(),e.createBlock(We,{key:0,items:o.items,"arrow-navigation":c.arrowNavigation,"hide-navigation":c.hideNavigation,"is-last":c.autoApply&&!c.keepActionRow,"skip-button-ref":!1,type:o.type,"header-refs":[],"esc-close":c.escClose,"text-input":c.textInput,onSelected:o.updateModelValue,onToggle:o.toggle},e.createSlots({"button-icon":e.withCtx(()=>[c.$slots["calendar-icon"]?e.renderSlot(c.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),c.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))]),_:2},[c.$slots[`${o.type}-overlay-val`]?{name:"item",fn:e.withCtx(({item:P})=>[e.renderSlot(c.$slots,`${o.type}-overlay-val`,{text:P.text,value:P.value})]),key:"0"}:void 0,c.$slots[`${o.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(c.$slots,`${o.type}-overlay`,e.normalizeProps(e.guardReactiveProps(J.value(o.type))))]),key:"1"}:void 0,c.$slots[`${o.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(c.$slots,`${o.type}-overlay-header`,{toggle:o.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","type","esc-close","text-input","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(K)(e.unref(f),t.instance)&&c.vertical?(e.openBlock(),e.createBlock(xe,{key:1,"aria-label":(N=e.unref(l))==null?void 0:N.prevMonth,disabled:e.unref(E)(!1),onActivate:h[2]||(h[2]=o=>e.unref($)(!1))},{default:e.withCtx(()=>[c.$slots["arrow-up"]?e.renderSlot(c.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(it),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(q)(e.unref(f),t.instance)?(e.openBlock(),e.createBlock(xe,{key:2,ref:"rightIcon",disabled:e.unref(E)(!0),"aria-label":(X=e.unref(l))==null?void 0:X.nextMonth,onActivate:h[3]||(h[3]=o=>e.unref($)(!0)),onSetRef:h[4]||(h[4]=o=>z(o,c.disableYearSelect?2:3))},{default:e.withCtx(()=>[c.$slots[c.vertical?"arrow-down":"arrow-right"]?e.renderSlot(c.$slots,c.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),c.$slots[c.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(c.vertical?e.unref(ct):e.unref(lt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64))])}}}),fa=["aria-label"],ma={class:"dp__calendar_header",role:"row"},pa={key:0,class:"dp__calendar_header_item",role:"gridcell"},ga=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),ha=["aria-label"],ya={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},ka={class:"dp__cell_inner"},wa=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],ba=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...$e},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:s}=Te(),{defaultedTransitions:l,defaultedAriaLabels:f,defaultedMultiCalendars:w}=pe(n),y=e.ref(null),C=e.ref({bottom:"",left:"",transform:""}),b=e.ref([]),$=e.ref(null),E=e.ref(!0),x=e.ref(""),K=e.ref({startX:0,endX:0,startY:0,endY:0}),q=e.ref([]),M=e.ref({left:"50%"}),S=e.computed(()=>n.calendar?n.calendar(n.mappedDates):n.mappedDates),L=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):er(n.formatLocale,n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:b}),n.noSwipe||$.value&&($.value.addEventListener("touchstart",Z,{passive:!1}),$.value.addEventListener("touchend",p,{passive:!1}),$.value.addEventListener("touchmove",z,{passive:!1})),n.monthChangeOnScroll&&$.value&&$.value.addEventListener("wheel",c,{passive:!1})});const O=i=>i?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",U=(i,N)=>{if(n.transitions){const X=ke(Se(T(),n.month,n.year));x.value=ge(ke(Se(T(),i,N)),X)?l.value[O(!0)]:l.value[O(!1)],E.value=!1,e.nextTick(()=>{E.value=!0})}},A=e.computed(()=>({[n.calendarClassName]:!!n.calendarClassName})),J=e.computed(()=>i=>{const N=nr(i);return{dp__marker_dot:N.type==="dot",dp__marker_line:N.type==="line"}}),k=e.computed(()=>i=>ae(i,y.value)),v=e.computed(()=>({dp__calendar:!0,dp__calendar_next:w.value.count>0&&n.instance!==0})),B=e.computed(()=>i=>n.hideOffsetDates?i.current:!0),Y=async(i,N,X)=>{var o,I;if(a("set-hover-date",i),(I=(o=i.marker)==null?void 0:o.tooltip)!=null&&I.length){const P=ue(b.value[N][X]);if(P){const{width:g,height:R}=P.getBoundingClientRect();y.value=i.value;let ee={left:`${g/2}px`},W=-50;if(await e.nextTick(),q.value[0]){const{left:le,width:te}=q.value[0].getBoundingClientRect();le<0&&(ee={left:"0"},W=0,M.value.left=`${g/2}px`),window.innerWidth<le+te&&(ee={right:"0"},W=0,M.value.left=`${te-g/2}px`)}C.value={bottom:`${R}px`,...ee,transform:`translateX(${W}%)`},a("tooltip-open",i.marker)}}},H=i=>{y.value&&(y.value=null,C.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",i.marker))},Z=i=>{K.value.startX=i.changedTouches[0].screenX,K.value.startY=i.changedTouches[0].screenY},p=i=>{K.value.endX=i.changedTouches[0].screenX,K.value.endY=i.changedTouches[0].screenY,m()},z=i=>{n.vertical&&!n.inline&&i.preventDefault()},m=()=>{const i=n.vertical?"Y":"X";Math.abs(K.value[`start${i}`]-K.value[`end${i}`])>10&&a("handle-swipe",K.value[`start${i}`]>K.value[`end${i}`]?"right":"left")},D=(i,N,X)=>{i&&(Array.isArray(b.value[N])?b.value[N][X]=i:b.value[N]=[i]),n.arrowNavigation&&s(b.value,"calendar")},c=i=>{n.monthChangeOnScroll&&(i.preventDefault(),a("handle-scroll",i))},h=i=>{const N=i[0];return n.weekNumbers==="local"?u.getWeek(N.value,{weekStartsOn:+n.weekStart}):n.weekNumbers==="iso"?u.getISOWeek(N.value):typeof n.weekNumbers=="function"?n.weekNumbers(N.value):""};return r({triggerTransition:U}),(i,N)=>{var X;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(v.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:$,role:"grid",class:e.normalizeClass(A.value),"aria-label":(X=e.unref(f))==null?void 0:X.calendarWrap},[(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",ma,[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",pa,e.toDisplayString(i.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(L.value,(o,I)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:I},[i.$slots["calendar-header"]?e.renderSlot(i.$slots,"calendar-header",{key:0,day:o,index:I}):e.createCommentVNode("",!0),i.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o),1)],64))]))),128))]),ga,e.createVNode(e.Transition,{name:x.value,css:!!i.transitions},{default:e.withCtx(()=>{var o;return[E.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":(o=e.unref(f))==null?void 0:o.calendarDays},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(S.value,(I,P)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:P},[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",ya,[e.createElementVNode("div",ka,e.toDisplayString(h(I.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.days,(g,R)=>{var ee,W,le;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:te=>D(te,P,R),key:R+P,"aria-selected":g.classData.dp__active_date||g.classData.dp__range_start||g.classData.dp__range_start,"aria-disabled":g.classData.dp__cell_disabled,"aria-label":(W=(ee=e.unref(f))==null?void 0:ee.day)==null?void 0:W.call(ee,g),tabindex:"0",onClick:e.withModifiers(te=>i.$emit("select-date",g),["stop","prevent"]),onKeydown:[e.withKeys(te=>i.$emit("select-date",g),["enter"]),e.withKeys(te=>i.$emit("handle-space",g),["space"])],onMouseenter:te=>Y(g,P,R),onMouseleave:te=>H(g)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",g.classData])},[i.$slots.day&&B.value(g)?e.renderSlot(i.$slots,"day",{key:0,day:+g.text,date:g.value}):e.createCommentVNode("",!0),i.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(g.text),1)],64)),g.marker&&B.value(g)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[i.$slots.marker?e.renderSlot(i.$slots,"marker",{key:0,marker:g.marker,day:+g.text,date:g.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(J.value(g.marker)),style:e.normalizeStyle(g.marker.color?{backgroundColor:g.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),k.value(g.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:q,style:e.normalizeStyle(C.value)},[(le=g.marker)!=null&&le.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:N[0]||(N[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.marker.tooltip,(te,_)=>(e.openBlock(),e.createElementBlock("div",{key:_,class:"dp__tooltip_text"},[i.$slots["marker-tooltip"]?e.renderSlot(i.$slots,"marker-tooltip",{key:0,tooltip:te,day:g.value}):e.createCommentVNode("",!0),i.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(te.color?{backgroundColor:te.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(te.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(M.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,wa)}),128))]))),128))],8,ha)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64))],10,fa)],2)}}}),$n=t=>Array.isArray(t),Ma=(t,r,a,n)=>{const s=e.ref([]),{modelValue:l,calendars:f,time:w}=Fe(t,r),{defaultedMultiCalendars:y,defaultedStartTime:C}=pe(t),{validateMonthYearInRange:b,isDisabled:$,isDateRangeAllowed:E,checkMinMaxRange:x}=Ue(t),{updateTimeValues:K,getSetDateTime:q,setTime:M,assignStartTime:S,disabledTimesConfig:L}=Sn(t,w,l,n),O=e.computed(()=>d=>f.value[d]?f.value[d].month:0),U=e.computed(()=>d=>f.value[d]?f.value[d].year:0),A=(d,V,Q)=>{var re,se;f.value[d]||(f.value[d]={month:0,year:0}),f.value[d].month=cn(V)?(re=f.value[d])==null?void 0:re.month:V,f.value[d].year=cn(Q)?(se=f.value[d])==null?void 0:se.year:Q},J=()=>{t.autoApply&&r("select-date")};e.watch(l,(d,V)=>{JSON.stringify(d)!==JSON.stringify(V)&&B()}),e.onMounted(()=>{t.shadow||(l.value||(i(),C.value&&S(C.value)),B(!0),t.focusStartDate&&t.startDate&&i())});const k=e.computed(()=>{var d;return(d=t.flow)!=null&&d.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),v=()=>{t.autoApply&&k.value&&r("auto-apply",t.partialFlow)},B=(d=!1)=>{if(l.value)return Array.isArray(l.value)?(s.value=l.value,m(d)):H(l.value,d);if(y.value.count&&d&&!t.startDate)return Y(T(),d)},Y=(d,V=!1)=>{if((!y.value.count||!y.value.static||V)&&A(0,u.getMonth(d),u.getYear(d)),y.value.count)for(let Q=1;Q<y.value.count;Q++){const re=u.set(T(),{month:O.value(Q-1),year:U.value(Q-1)}),se=u.add(re,{months:1});f.value[Q]={month:u.getMonth(se),year:u.getYear(se)}}},H=(d,V)=>{Y(d),M("hours",u.getHours(d)),M("minutes",u.getMinutes(d)),M("seconds",u.getSeconds(d)),y.value.count&&V&&h()},Z=d=>y.value.count?Math.abs(u.differenceInMonths(d[0],d[1]))>=y.value.count?1:0:1,p=(d,V)=>{d[1]&&t.showLastInRange?Y(d[Z(d)],V):Y(d[0],V);const Q=(re,se)=>[re(d[0]),d[1]?re(d[1]):w[se][1]];M("hours",Q(u.getHours,"hours")),M("minutes",Q(u.getMinutes,"minutes")),M("seconds",Q(u.getSeconds,"seconds"))},z=(d,V)=>{if((t.range||t.weekPicker)&&!t.multiDates)return p(d,V);if(t.multiDates){const Q=d[d.length-1];return H(Q,V)}},m=d=>{const V=l.value;z(V,d),y.value.count&&y.value.solo&&h()},D=(d,V)=>{const Q=u.set(T(),{month:O.value(V),year:U.value(V)}),re=d<0?u.addMonths(Q,1):u.subMonths(Q,1);b(u.getMonth(re),u.getYear(re),d<0,t.preventMinMaxNavigation)&&(A(V,u.getMonth(re),u.getYear(re)),y.value.count&&!y.value.solo&&c(V),a())},c=d=>{for(let V=d-1;V>=0;V--){const Q=u.subMonths(u.set(T(),{month:O.value(V+1),year:U.value(V+1)}),1);A(V,u.getMonth(Q),u.getYear(Q))}for(let V=d+1;V<=y.value.count-1;V++){const Q=u.addMonths(u.set(T(),{month:O.value(V-1),year:U.value(V-1)}),1);A(V,u.getMonth(Q),u.getYear(Q))}},h=()=>{if(Array.isArray(l.value)&&l.value.length===2){const d=T(T(l.value[1]?l.value[1]:u.addMonths(l.value[0],1))),[V,Q]=[u.getMonth(l.value[0]),u.getYear(l.value[0])],[re,se]=[u.getMonth(l.value[1]),u.getYear(l.value[1])];(V!==re||V===re&&Q!==se)&&y.value.solo&&A(1,u.getMonth(d),u.getYear(d))}else l.value&&!Array.isArray(l.value)&&(A(0,u.getMonth(l.value),u.getYear(l.value)),Y(T()))},i=()=>{t.startDate&&(A(0,u.getMonth(T(t.startDate)),u.getYear(T(t.startDate))),y.value.count&&c(0))},N=(d,V)=>{t.monthChangeOnScroll&&D(t.monthChangeOnScroll!=="inverse"?-d.deltaY:d.deltaY,V)},X=(d,V,Q=!1)=>{t.monthChangeOnArrows&&t.vertical===Q&&o(d,V)},o=(d,V)=>{D(d==="right"?-1:1,V)},I=d=>t.markers.find(V=>ae(mn(d.value),mn(V.date))),P=(d,V)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[d==0,!0];case"fair":return[d==0||V>d,!0];case"append":return[!1,!1];default:return[!1,!1]}},g=(d,V,Q,re)=>{if(t.sixWeeks&&d.length<6){const se=6-d.length,Ae=(V.getDay()+7-re)%7,rt=6-(Q.getDay()+7-re)%7,[qe,Wt]=P(Ae,rt);for(let Re=1;Re<=se;Re++)if(Wt?!!(Re%2)==qe:qe){const at=d[0].days[0],xt=R(u.addDays(at.value,-7),u.getMonth(V));d.unshift({days:xt})}else{const at=d[d.length-1],xt=at.days[at.days.length-1],Va=R(u.addDays(xt.value,1),u.getMonth(V));d.push({days:Va})}}return d},R=(d,V)=>{const Q=T(JSON.parse(JSON.stringify(d))),re=[];for(let se=0;se<7;se++){const Ae=u.addDays(Q,se),Ge=u.getMonth(Ae)!==V;re.push({text:t.hideOffsetDates&&Ge?"":Ae.getDate(),value:Ae,current:!Ge,classData:{}})}return re},ee=(d,V)=>{const Q=[],re=T(Ce(new Date(V,d),t.timezone)),se=T(Ce(new Date(V,d+1,0),t.timezone)),Ae=t.weekStart,Ge=u.startOfWeek(re,{weekStartsOn:Ae}),rt=qe=>{const Wt=R(qe,d);if(Q.push({days:Wt}),!Q[Q.length-1].days.some(Re=>ae(ke(Re.value),ke(se)))){const Re=u.addDays(qe,7);rt(Re)}};return rt(Ge),g(Q,re,se,Ae)},W=d=>(l.value=Je(T(d.value),t.timezone,t.weekStart),v()),le=d=>{const V=Be(T(d.value),w.hours,w.minutes,nt());t.multiDates?Rt(V,l,t.multiDatesLimit):l.value=V,n(),e.nextTick().then(()=>{v()})},te=d=>t.noDisabledRange?pn(s.value[0],d).some(Q=>$(Q)):!1,_=()=>{s.value=l.value?l.value.slice():[],s.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(s.value=[])},j=(d,V)=>{const Q=[T(d.value),u.addDays(T(d.value),+t.autoRange)];E(Q)&&(V&&ce(d.value),s.value=Q)},ce=d=>{const V=u.getMonth(T(d)),Q=u.getYear(T(d));if(A(0,V,Q),y.value.count>0)for(let re=1;re<y.value.count;re++){const se=ir(u.set(T(d),{year:O.value(re-1),month:U.value(re-1)}));A(re,se.month,se.year)}},G=d=>Array.isArray(l.value)&&l.value.length===2?t.fixedStart&&(ge(d,l.value[0])||ae(d,l.value[0]))?[l.value[0],d]:t.fixedEnd&&(fe(d,l.value[1])||ae(d,l.value[1]))?[d,l.value[1]]:(r("invalid-fixed-range",d),l.value):[],we=d=>{te(d.value)||!x(d.value,l.value,t.fixedStart?0:1)||(s.value=G(T(d.value)))},de=(d,V)=>{if(_(),t.autoRange)return j(d,V);if(t.fixedStart||t.fixedEnd)return we(d);s.value[0]?x(T(d.value),l.value)&&!te(d.value)&&(fe(T(d.value),T(s.value[0]))?(s.value.unshift(T(d.value)),r("range-end",s.value[0])):(s.value[1]=T(d.value),r("range-end",s.value[1]))):(s.value[0]=T(d.value),r("range-start",s.value[0]))},nt=(d=!0)=>t.enableSeconds?Array.isArray(w.seconds)?d?w.seconds[0]:w.seconds[1]:w.seconds:0,je=d=>{s.value[d]=Be(s.value[d],w.hours[d],w.minutes[d],nt(d!==1))},Yt=()=>{var d,V;s.value[0]&&s.value[1]&&+((d=s.value)==null?void 0:d[0])>+((V=s.value)==null?void 0:V[1])&&(s.value.reverse(),r("range-start",s.value[0]),r("range-end",s.value[1]))},It=()=>{s.value.length&&(s.value[0]&&!s.value[1]?je(0):(je(0),je(1),n()),Yt(),l.value=s.value.slice(),s.value[0]&&s.value[1]&&t.autoApply&&r("auto-apply"),s.value[0]&&!s.value[1]&&t.modelAuto&&t.autoApply&&r("auto-apply"))},zt=(d,V=!1)=>{if(!($(d.value)||!d.current&&t.hideOffsetDates)){if(t.weekPicker)return W(d);if(!t.range)return le(d);$n(w.hours)&&$n(w.minutes)&&!t.multiDates&&(de(d,V),It())}},Lt=(d,V)=>{A(d,V.month,V.year),y.value.count&&!y.value.solo&&c(d),a(y.value.solo?d:void 0),n()},Ht=(d,V)=>{Array.isArray(d)&&d.length<=2&&t.range?l.value=d.map(Q=>Ce(T(Q),V?void 0:t.timezone)):Array.isArray(d)||(l.value=Ce(T(d),V?void 0:t.timezone)),J(),t.multiCalendars&&e.nextTick().then(()=>B(!0))},Kt=()=>{t.range?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=fe(T(),l.value[0])?[T(),l.value[0]]:[l.value[0],T()]:l.value=[T()]:l.value=T(),J()},Ut=()=>{if(Array.isArray(l.value))if(t.multiDates){const d=F();l.value[l.value.length-1]=q(d)}else l.value=l.value.map((d,V)=>d&&q(d,V));else l.value=q(l.value);r("time-update")},F=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:f,modelValue:l,month:O,year:U,time:w,disabledTimesConfig:L,getCalendarDays:ee,getMarker:I,handleScroll:N,handleSwipe:o,handleArrow:X,selectDate:zt,updateMonthYear:Lt,presetDate:Ht,selectCurrentDate:Kt,updateTime:(d,V=!0,Q=!1)=>{K(d,V,Q,Ut)}}},Da={key:0},Ca=e.defineComponent({__name:"DatePicker",props:{...$e},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position"],setup(t,{expose:r,emit:a}){const n=t,{calendars:s,month:l,year:f,modelValue:w,time:y,disabledTimesConfig:C,getCalendarDays:b,getMarker:$,handleArrow:E,handleScroll:x,handleSwipe:K,selectDate:q,updateMonthYear:M,presetDate:S,selectCurrentDate:L,updateTime:O}=Ma(n,a,c,h),U=e.useSlots(),{setHoverDate:A,getDayClassData:J,clearHoverDate:k}=Br(w,n),{defaultedMultiCalendars:v}=pe(n),B=e.ref([]),Y=e.ref([]),H=e.ref(null),Z=De(U,"calendar"),p=De(U,"monthYear"),z=De(U,"timePicker"),m=P=>{n.shadow||a("mount",P)};e.watch(s,()=>{n.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const D=e.computed(()=>P=>b(l.value(P),f.value(P)).map(g=>({...g,days:g.days.map(R=>(R.marker=$(R),R.classData=J(R),R))})));function c(P){var g;P||P===0?(g=Y.value[P])==null||g.triggerTransition(l.value(P),f.value(P)):Y.value.forEach((R,ee)=>R.triggerTransition(l.value(ee),f.value(ee)))}function h(){a("update-flow-step")}const i=(P,g=!1)=>{q(P,g),n.spaceConfirm&&a("select-date")};return r({clearHoverDate:k,presetDate:S,selectCurrentDate:L,toggleMonthPicker:(P,g,R=0)=>{var ee;(ee=B.value[R])==null||ee.toggleMonthPicker(P,g)},toggleYearPicker:(P,g,R=0)=>{var ee;(ee=B.value[R])==null||ee.toggleYearPicker(P,g)},toggleTimePicker:(P,g,R)=>{var ee;(ee=H.value)==null||ee.toggleTimePicker(P,g,R)},handleArrow:E,updateMonthYear:M,getSidebarProps:()=>({modelValue:w,month:l,year:f,time:y,updateTime:O,updateMonthYear:M,selectDate:q,presetDate:S})}),(P,g)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(Et,{"multi-calendars":e.unref(v).count},{default:e.withCtx(({instance:R,index:ee})=>[P.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(da,e.mergeProps({key:0,ref:W=>{W&&(B.value[ee]=W)},months:e.unref(on)(P.formatLocale,P.locale,P.monthNameFormat),years:e.unref(Ct)(P.yearRange,P.reverseYears),month:e.unref(l)(R),year:e.unref(f)(R),instance:R},P.$props,{onMount:g[0]||(g[0]=W=>m(e.unref(_e).header)),onResetFlow:g[1]||(g[1]=W=>P.$emit("reset-flow")),onUpdateMonthYear:W=>e.unref(M)(R,W),onOverlayClosed:g[2]||(g[2]=W=>P.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(p),(W,le)=>({name:W,fn:e.withCtx(te=>[e.renderSlot(P.$slots,W,e.normalizeProps(e.guardReactiveProps(te)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(ba,e.mergeProps({ref:W=>{W&&(Y.value[ee]=W)},"mapped-dates":D.value(R),month:e.unref(l)(R),year:e.unref(f)(R)},P.$props,{onSelectDate:W=>e.unref(q)(W,R!==1),onHandleSpace:W=>i(W,R!==1),onSetHoverDate:g[3]||(g[3]=W=>e.unref(A)(W)),onHandleScroll:W=>e.unref(x)(W,R),onHandleSwipe:W=>e.unref(K)(W,R),onMount:g[4]||(g[4]=W=>m(e.unref(_e).calendar)),onResetFlow:g[5]||(g[5]=W=>P.$emit("reset-flow")),onTooltipOpen:g[6]||(g[6]=W=>P.$emit("tooltip-open",W)),onTooltipClose:g[7]||(g[7]=W=>P.$emit("tooltip-close",W))}),e.createSlots({_:2},[e.renderList(e.unref(Z),(W,le)=>({name:W,fn:e.withCtx(te=>[e.renderSlot(P.$slots,W,e.normalizeProps(e.guardReactiveProps({...te})))])}))]),1040,["mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),P.enableTimePicker?(e.openBlock(),e.createElementBlock("div",Da,[P.$slots["time-picker"]?e.renderSlot(P.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(y),updateTime:e.unref(O)}))):(e.openBlock(),e.createBlock(Cn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:H},P.$props,{hours:e.unref(y).hours,minutes:e.unref(y).minutes,seconds:e.unref(y).seconds,"internal-model-value":P.internalModelValue,"disabled-times-config":e.unref(C),onMount:g[8]||(g[8]=R=>m(e.unref(_e).timePicker)),"onUpdate:hours":g[9]||(g[9]=R=>e.unref(O)(R)),"onUpdate:minutes":g[10]||(g[10]=R=>e.unref(O)(R,!1)),"onUpdate:seconds":g[11]||(g[11]=R=>e.unref(O)(R,!1,!0)),onResetFlow:g[12]||(g[12]=R=>P.$emit("reset-flow")),onOverlayClosed:g[13]||(g[13]=R=>P.$emit("time-picker-close")),onOverlayOpened:g[14]||(g[14]=R=>P.$emit("time-picker-open",R)),onAmPmChange:g[15]||(g[15]=R=>P.$emit("am-pm-change",R))}),e.createSlots({_:2},[e.renderList(e.unref(z),(R,ee)=>({name:R,fn:e.withCtx(W=>[e.renderSlot(P.$slots,R,e.normalizeProps(e.guardReactiveProps(W)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"]))])):e.createCommentVNode("",!0)],64))}}),Sa=["id","onKeydown"],$a={key:0,class:"dp__sidebar_left"},Ba={key:1,class:"dp--preset-dates"},va=["onClick","onKeydown"],Ta={key:2,class:"dp__sidebar_right"},Aa={key:3,class:"dp__action_extra"},Bn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...tt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,s=e.computed(()=>{const{openOnTop:_,...j}=n;return{...j,flowStep:J.value}}),{setMenuFocused:l,setShiftKey:f,control:w}=wn(),y=e.useSlots(),{defaultedTextInput:C,defaultedInline:b}=pe(n),$=e.ref(null),E=e.ref(0),x=e.ref(null),K=e.ref(null),q=e.ref(!1),M=e.ref(null);e.onMounted(()=>{if(!n.shadow){q.value=!0,S(),window.addEventListener("resize",S);const _=ue(x);if(_&&!C.value.enabled&&!b.value.enabled&&(l(!0),H()),_){const j=ce=>{n.allowPreventDefault&&ce.preventDefault(),ce.stopImmediatePropagation(),ce.stopPropagation()};_.addEventListener("pointerdown",j),_.addEventListener("mousedown",j)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",S)});const S=()=>{const _=ue(K);_&&(E.value=_.getBoundingClientRect().width)},{arrowRight:L,arrowLeft:O,arrowDown:U,arrowUp:A}=Te(),{flowStep:J,updateFlowStep:k,childMount:v,resetFlow:B}=vr(n,a,M),Y=e.computed(()=>n.monthPicker?Wr:n.yearPicker?jr:n.timePicker?ia:Ca),H=()=>{const _=ue(x);_&&_.focus({preventScroll:!0})},Z=()=>e.computed(()=>{var _;return(_=M.value)==null?void 0:_.getSidebarProps()}),p=()=>{n.openOnTop&&a("recalculate-position")},z=De(y,"action"),m=e.computed(()=>n.monthPicker||n.yearPicker?De(y,"monthYear"):n.timePicker?De(y,"timePicker"):De(y,"shared")),D=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),c=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),h=e.computed(()=>({dp__menu:!0,dp__menu_index:!b.value.enabled,dp__relative:b.value.enabled,[n.menuClassName]:!!n.menuClassName})),i=_=>{_.stopPropagation(),_.stopImmediatePropagation()},N=()=>{n.escClose&&a("close-picker")},X=_=>{if(n.arrowNavigation){if(_==="up")return A();if(_==="down")return U();if(_==="left")return O();if(_==="right")return L()}else _==="left"||_==="up"?R("handleArrow","left",0,_==="up"):R("handleArrow","right",0,_==="down")},o=_=>{f(_.shiftKey),!n.disableMonthYearSelect&&_.code==="Tab"&&_.target.classList.contains("dp__menu")&&w.value.shiftKeyInMenu&&(_.preventDefault(),_.stopImmediatePropagation(),a("close-picker"))},I=()=>{H(),a("time-picker-close")},P=_=>{var j,ce,G;(j=M.value)==null||j.toggleTimePicker(!1,!1),(ce=M.value)==null||ce.toggleMonthPicker(!1,!1,_),(G=M.value)==null||G.toggleYearPicker(!1,!1,_)},g=(_,j=0)=>{var ce,G,we;return _==="month"?(ce=M.value)==null?void 0:ce.toggleMonthPicker(!1,!0,j):_==="year"?(G=M.value)==null?void 0:G.toggleYearPicker(!1,!0,j):_==="time"?(we=M.value)==null?void 0:we.toggleTimePicker(!0,!1):P(j)},R=(_,...j)=>{var ce,G;(ce=M.value)!=null&&ce[_]&&((G=M.value)==null||G[_](...j))},ee=()=>{R("selectCurrentDate")},W=(_,j)=>{R("presetDate",_,j)},le=()=>{R("clearHoverDate")};return r({updateMonthYear:(_,j)=>{R("updateMonthYear",_,j)},switchView:g}),(_,j)=>{var ce;return e.openBlock(),e.createElementBlock("div",{id:_.uid?`dp-menu-${_.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:x,role:"dialog",class:e.normalizeClass(h.value),onMouseleave:le,onClick:i,onKeydown:[e.withKeys(N,["esc"]),j[14]||(j[14]=e.withKeys(e.withModifiers(G=>X("left"),["prevent"]),["left"])),j[15]||(j[15]=e.withKeys(e.withModifiers(G=>X("up"),["prevent"]),["up"])),j[16]||(j[16]=e.withKeys(e.withModifiers(G=>X("down"),["prevent"]),["down"])),j[17]||(j[17]=e.withKeys(e.withModifiers(G=>X("right"),["prevent"]),["right"])),o]},[(_.disabled||_.readonly)&&e.unref(b).enabled?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(c.value)},null,2)):e.createCommentVNode("",!0),!e.unref(b).enabled&&!_.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(D.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:K,class:e.normalizeClass({dp__menu_content_wrapper:((ce=_.presetDates)==null?void 0:ce.length)||!!_.$slots["left-sidebar"]||!!_.$slots["right-sidebar"]}),style:e.normalizeStyle({"--dp-menu-width":`${E.value}px`})},[_.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",$a,[e.renderSlot(_.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(Z())))])):e.createCommentVNode("",!0),_.presetDates.length?(e.openBlock(),e.createElementBlock("div",Ba,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.presetDates,(G,we)=>(e.openBlock(),e.createElementBlock("div",{key:we,style:e.normalizeStyle(G.style||{}),class:"dp--preset-range"},[G.slot?e.renderSlot(_.$slots,G.slot,{key:0,presetDate:W,label:G.label,value:G.value}):(e.openBlock(),e.createElementBlock("div",{key:1,role:"button",tabindex:"0",onClick:de=>W(G.value,G.noTz),onKeydown:[e.withKeys(e.withModifiers(de=>W(G.value,G.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(de=>W(G.value,G.noTz),["prevent"]),["space"])]},e.toDisplayString(G.label),41,va))],4))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:$,role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(Y.value),e.mergeProps({ref_key:"dynCmpRef",ref:M},s.value,{"flow-step":e.unref(J),onMount:e.unref(v),onUpdateFlowStep:e.unref(k),onResetFlow:e.unref(B),onFocusMenu:H,onSelectDate:j[0]||(j[0]=G=>_.$emit("select-date")),onTooltipOpen:j[1]||(j[1]=G=>_.$emit("tooltip-open",G)),onTooltipClose:j[2]||(j[2]=G=>_.$emit("tooltip-close",G)),onAutoApply:j[3]||(j[3]=G=>_.$emit("auto-apply",G)),onRangeStart:j[4]||(j[4]=G=>_.$emit("range-start",G)),onRangeEnd:j[5]||(j[5]=G=>_.$emit("range-end",G)),onInvalidFixedRange:j[6]||(j[6]=G=>_.$emit("invalid-fixed-range",G)),onTimeUpdate:j[7]||(j[7]=G=>_.$emit("time-update")),onAmPmChange:j[8]||(j[8]=G=>_.$emit("am-pm-change",G)),onTimePickerOpen:j[9]||(j[9]=G=>_.$emit("time-picker-open",G)),onTimePickerClose:I,onRecalculatePosition:p,"onUpdate:internalModelValue":j[10]||(j[10]=G=>_.$emit("update:internal-model-value",G))}),e.createSlots({_:2},[e.renderList(m.value,(G,we)=>({name:G,fn:e.withCtx(de=>[e.renderSlot(_.$slots,G,e.normalizeProps(e.guardReactiveProps({...de})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),_.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Ta,[e.renderSlot(_.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(Z())))])):e.createCommentVNode("",!0),_.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Aa,[_.$slots["action-extra"]?e.renderSlot(_.$slots,"action-extra",{key:0,selectCurrentDate:ee}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!_.autoApply||_.keepActionRow?(e.openBlock(),e.createBlock(Vr,e.mergeProps({key:2,"menu-mount":q.value},s.value,{"calendar-width":E.value,onClosePicker:j[11]||(j[11]=G=>_.$emit("close-picker")),onSelectDate:j[12]||(j[12]=G=>_.$emit("select-date")),onInvalidSelect:j[13]||(j[13]=G=>_.$emit("invalid-select")),onSelectNow:ee}),e.createSlots({_:2},[e.renderList(e.unref(z),(G,we)=>({name:G,fn:e.withCtx(de=>[e.renderSlot(_.$slots,G,e.normalizeProps(e.guardReactiveProps({...de})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],42,Sa)}}}),Na=typeof window<"u"?window:void 0,Vt=()=>{},Pa=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,_a=(t,r,a,n)=>{if(!t)return Vt;let s=Vt;const l=e.watch(()=>e.unref(t),w=>{s(),w&&(w.addEventListener(r,a,n),s=()=>{w.removeEventListener(r,a,n),s=Vt})},{immediate:!0,flush:"post"}),f=()=>{l(),s()};return Pa(f),f},Ea=(t,r,a,n={})=>{const{window:s=Na,event:l="pointerdown"}=n;return s?_a(s,l,w=>{const y=ue(t),C=ue(r);!y||!C||y===w.target||w.composedPath().includes(y)||w.composedPath().includes(C)||a(w)},{passive:!0}):void 0},Ra=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...tt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,s=e.useSlots(),l=e.ref(!1),f=e.toRef(n,"modelValue"),w=e.toRef(n,"timezone"),y=e.ref(null),C=e.ref(null),b=e.ref(null),$=e.ref(!1),E=e.ref(null),x=e.reactive({disabledDates:null,allowedDates:null,highlightedDates:null}),{setMenuFocused:K,setShiftKey:q}=wn(),{clearArrowNav:M}=Te(),{mapDatesArrToMap:S,validateDate:L,isValidTime:O}=Ue(n),{defaultedTransitions:U,defaultedTextInput:A,defaultedInline:J}=pe(n),{menuTransition:k,showTransition:v}=Ke(U);e.onMounted(()=>{i(n.modelValue),e.nextTick().then(()=>{J.value.enabled||(m(E.value).addEventListener("scroll",R),window.addEventListener("resize",ee))}),J.value.enabled&&(l.value=!0),S(x)}),e.onUnmounted(()=>{if(!J.value.enabled){const F=m(E.value);F&&F.removeEventListener("scroll",R),window.removeEventListener("resize",ee)}});const B=De(s,"all",n.presetDates),Y=De(s,"input");e.watch([f,w],()=>{i(f.value)},{deep:!0});const{openOnTop:H,menuStyle:Z,xCorrect:p,setMenuPosition:z,getScrollableParent:m,shadowRender:D}=Cr(y,C,b,E,J,a,n),{inputValue:c,internalModelValue:h,parseExternalModelValue:i,emitModelValue:N,formatInputValue:X,checkBeforeEmit:o}=Mr(a,n,$),I=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:J.value.enabled,dp__flex_display_with_input:J.value.input})),P=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),g=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:J.value.enabled}:{class:"dp__outer_menu_wrap"}),R=()=>{l.value&&(n.closeOnScroll?de():z())},ee=()=>{l.value&&z()},W=()=>{!n.disabled&&!n.readonly&&(D(Bn,n),z(!1),l.value=!0,l.value&&a("open"),l.value||we(),i(n.modelValue))},le=()=>{c.value="",we(),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),n.closeOnClearValue&&de()},te=()=>{const F=h.value;return!F||!Array.isArray(F)&&L(F)?!0:Array.isArray(F)?F.length===2&&L(F[0])&&L(F[1])?!0:n.partialRange&&!n.timePicker?L(F[0]):!1:!1},_=()=>{o()&&te()?(N(),de()):a("invalid-select",h.value)},j=F=>{ce(),N(),n.closeOnAutoApply&&!F&&de()},ce=()=>{b.value&&A.value.enabled&&b.value.setParsedDate(h.value)},G=(F=!1)=>{n.autoApply&&O(h.value)&&te()&&(n.range&&Array.isArray(h.value)?(n.partialRange||h.value.length===2)&&j(F):j(F))},we=()=>{A.value.enabled||(h.value=null)},de=()=>{J.value.enabled||(l.value&&(l.value=!1,p.value=!1,K(!1),q(!1),M(),a("closed"),c.value&&i(f.value)),we(),a("blur"))},nt=(F,ne)=>{if(!F){h.value=null;return}h.value=F,ne&&(_(),a("text-submit"))},je=()=>{n.autoApply&&O(h.value)&&N(),ce()},Yt=()=>l.value?de():W(),It=F=>{h.value=F},zt=()=>{A.value.enabled&&($.value=!0,X()),a("focus")},Lt=()=>{A.value.enabled&&($.value=!1,i(n.modelValue)),a("blur")},Ht=F=>{C.value&&C.value.updateMonthYear(0,{month:sn(F.month),year:sn(F.year)})},Kt=F=>{i(F??n.modelValue)},Ut=(F,ne)=>{var d;(d=C.value)==null||d.switchView(F,ne)};return Ea(y,b,n.onClickOutside?()=>n.onClickOutside(te):de),r({closeMenu:de,selectDate:_,clearValue:le,openMenu:W,onScroll:R,formatInputValue:X,updateInternalModelValue:It,setMonthYear:Ht,parseModel:Kt,switchView:Ut}),(F,ne)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(I.value),ref_key:"pickerWrapperRef",ref:E},[e.createVNode(Pr,e.mergeProps({ref_key:"inputRef",ref:b,"is-menu-open":l.value,"input-value":e.unref(c),"onUpdate:inputValue":ne[0]||(ne[0]=d=>e.isRef(c)?c.value=d:null)},F.$props,{onClear:le,onOpen:W,onSetInputDate:nt,onSetEmptyDate:e.unref(N),onSelectDate:_,onToggle:Yt,onClose:de,onFocus:zt,onBlur:Lt,onRealBlur:ne[1]||(ne[1]=d=>$.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(Y),(d,V)=>({name:d,fn:e.withCtx(Q=>[e.renderSlot(F.$slots,d,e.normalizeProps(e.guardReactiveProps(Q)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),e.createVNode(e.Transition,{name:e.unref(k)(e.unref(H)),css:e.unref(v)&&!e.unref(J).enabled},{default:e.withCtx(()=>[l.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(F.teleport?e.Teleport:"div"),e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:y},g.value,{class:{"dp--menu-wrapper":!e.unref(J).enabled},style:e.unref(J).enabled?void 0:e.unref(Z)}),{default:e.withCtx(()=>[e.createVNode(Bn,e.mergeProps({ref_key:"dpMenuRef",ref:C,class:{[P.value]:!0,"dp--menu-wrapper":F.teleport},style:F.teleport?e.unref(Z):void 0,"open-on-top":e.unref(H),"arr-map-values":x},F.$props,{"internal-model-value":e.unref(h),"onUpdate:internalModelValue":ne[2]||(ne[2]=d=>e.isRef(h)?h.value=d:null),onClosePicker:de,onSelectDate:_,onAutoApply:G,onTimeUpdate:je,onFlowStep:ne[3]||(ne[3]=d=>F.$emit("flow-step",d)),onUpdateMonthYear:ne[4]||(ne[4]=d=>F.$emit("update-month-year",d)),onInvalidSelect:ne[5]||(ne[5]=d=>F.$emit("invalid-select",e.unref(h))),onInvalidFixedRange:ne[6]||(ne[6]=d=>F.$emit("invalid-fixed-range",d)),onRecalculatePosition:e.unref(z),onTooltipOpen:ne[7]||(ne[7]=d=>F.$emit("tooltip-open",d)),onTooltipClose:ne[8]||(ne[8]=d=>F.$emit("tooltip-close",d)),onTimePickerOpen:ne[9]||(ne[9]=d=>F.$emit("time-picker-open",d)),onTimePickerClose:ne[10]||(ne[10]=d=>F.$emit("time-picker-close",d)),onAmPmChange:ne[11]||(ne[11]=d=>F.$emit("am-pm-change",d)),onRangeStart:ne[12]||(ne[12]=d=>F.$emit("range-start",d)),onRangeEnd:ne[13]||(ne[13]=d=>F.$emit("range-end",d))}),e.createSlots({_:2},[e.renderList(e.unref(B),(d,V)=>({name:d,fn:e.withCtx(Q=>[e.renderSlot(F.$slots,d,e.normalizeProps(e.guardReactiveProps({...Q})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])]),_:3},16,["class","style"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2))}}),Ot=(()=>{const t=Ra;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Ot},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(Ot[t]=r)}),Ot});
